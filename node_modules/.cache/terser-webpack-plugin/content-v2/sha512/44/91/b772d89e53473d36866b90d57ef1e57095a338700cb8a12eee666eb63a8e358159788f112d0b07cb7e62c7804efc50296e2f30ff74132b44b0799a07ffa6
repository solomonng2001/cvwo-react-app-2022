{"code":"(this.webpackJsonpsample=this.webpackJsonpsample||[]).push([[0],{121:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){\"use strict\";n.r(t);var a=n(4),r=(n(121),n(0)),c=n.n(r),s=n(272),o=n(273),i=n(145),l=n(274),d=n(298),u=n(260),j=n(299),h=n(297),b=n(112),O=n.n(b),g=n(1),m=function(e){var t=e.tagged,n=e.user,a=e.time,r=e.tags;if(t){var c=\"\"===r?[]:r.split(\",\");return Object(g.jsxs)(u.a,{container:!0,children:[Object(g.jsx)(u.a,{item:!0,xs:6,children:Object(g.jsxs)(d.a,{direction:\"row\",spacing:2,children:[Object(g.jsx)(h.a,{}),Object(g.jsxs)(d.a,{direction:\"column\",children:[Object(g.jsx)(i.a,{align:\"left\",variant:\"h5\",children:n}),Object(g.jsx)(i.a,{align:\"left\",variant:\"subtitle1\",color:\"textSecondary\",children:O()(a).fromNow()})]})]})}),Object(g.jsx)(u.a,{item:!0,container:!0,xs:6,direction:\"row\",spacing:1,justifyContent:\"flex-end\",alignItems:\"flex-start\",children:c.map((function(e){return Object(g.jsx)(u.a,{item:!0,children:Object(g.jsx)(j.a,{label:e})},e)}))})]})}return Object(g.jsxs)(u.a,{container:!0,children:[Object(g.jsx)(u.a,{item:!0,xs:6,children:Object(g.jsxs)(d.a,{direction:\"row\",spacing:2,children:[Object(g.jsx)(h.a,{}),Object(g.jsxs)(d.a,{direction:\"column\",children:[Object(g.jsx)(i.a,{align:\"left\",variant:\"h5\",children:n}),Object(g.jsx)(i.a,{align:\"left\",variant:\"subtitle1\",color:\"textSecondary\",children:O()(a).fromNow()})]})]})}),Object(g.jsx)(u.a,{item:!0,xs:6})]})},f=n(270),x=n(99),p=n.n(x),S=n(98),C=n.n(S),v=n(132),y=n.n(v),w=n(295),I=n(265),P=n(266),T=n(283),A=n(268),U=n(269),k=n(288),M=function(e){var t=e.severity,n=e.message;return Object(g.jsx)(g.Fragment,{children:n.map((function(e){return Object(g.jsx)(k.a,{severity:t,children:e})}))})},_=function(e){var t=e.API,n=e.openCreateComment,c=e.handleCloseCreateComment,s=e.thread_page_id,o=e.currentUserState,i=Object(r.useState)(\"\"),l=Object(a.a)(i,2),d=l[0],u=l[1],j=Object(r.useState)(void 0),h=Object(a.a)(j,2),b=h[0],O=h[1],m=Object(r.useState)([]),f=Object(a.a)(m,2),x=f[0],p=f[1];return Object(g.jsxs)(w.a,{open:n,onClose:c,fullWidth:!0,children:[Object(g.jsx)(I.a,{children:\"What's on your mind?\"}),Object(g.jsxs)(P.a,{children:[Object(g.jsx)(M,{severity:b,message:x}),Object(g.jsx)(T.a,{value:d,autoFocus:!0,type:\"text\",margin:\"normal\",label:\"Say something here...\",fullWidth:!0,variant:\"standard\",multiline:!0,onChange:function(e){return u(e.target.value)}})]}),Object(g.jsxs)(A.a,{children:[Object(g.jsx)(U.a,{onClick:c,children:\"Cancel\"}),Object(g.jsx)(U.a,{onClick:function(){var e=o.currentUser.id,n=[];\"\"===d&&n.push(\"Fill in all fields\"),n.length>0?(O(\"error\"),p(n)):fetch(t+\"/thread_pages/\"+s.toString()+\"/comments\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({body:d,user_id:e,thread_page_id:s})}).then((function(e){e.ok?(O(\"success\"),n.push(\"You have created a new comment!\"),p(n),u(\"\"),setTimeout((function(){return window.location.reload()}),1e3)):(O(\"error\"),n.push(\"Some error occured\"),p(n))})).catch((function(e){return console.log(e.message)}))},children:\"Comment\"})]})]})},W=function(e){var t=e.API,n=e.openDeleteThread,c=e.handleCloseDeleteThread,s=e.thread_page_id,o=Object(r.useState)(void 0),i=Object(a.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)([]),j=Object(a.a)(u,2),h=j[0],b=j[1];return Object(g.jsxs)(w.a,{open:n,onClose:c,fullWidth:!0,children:[Object(g.jsx)(I.a,{children:\"Are you sure you want to delete this thread?\"}),Object(g.jsx)(P.a,{children:Object(g.jsx)(M,{severity:l,message:h})}),Object(g.jsxs)(A.a,{children:[Object(g.jsx)(U.a,{onClick:c,children:\"Cancel\"}),Object(g.jsx)(U.a,{onClick:function(){var e=[];fetch(t+\"/thread_pages/\"+s.toString(),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}}).then((function(t){if(t.ok){d(\"success\"),e.push(\"You have deleted thread!\"),b(e);var n=window.location.href;setTimeout(n.startsWith(window.location.protocol+\"//\"+window.location.host+\"/thread\")?function(){return window.location.replace(window.location.protocol+\"//\"+window.location.host)}:function(){return window.location.reload()},1e3)}else d(\"error\"),e.push(\"Some error occured\"),b(e)})).catch((function(e){return console.log(e.message)}))},children:\"Delete Thread\"})]})]})},L=function(e){return e.replace(/\\s/g,\"\").toLowerCase().split(\"#\").filter((function(e){return\"\"!==e}))},E=function(e){var t=e.API,n=e.openUpdateThread,c=e.handleCloseUpdateThread,s=e.thread,o=Object(r.useState)(s.title),i=Object(a.a)(o,2),l=i[0],d=i[1],h=Object(r.useState)(s.body),b=Object(a.a)(h,2),O=b[0],m=b[1],f=Object(r.useState)(\"#\"+s.tags.split(\",\").join(\"#\")),x=Object(a.a)(f,2),p=x[0],S=x[1],C=Object(r.useState)([]),v=Object(a.a)(C,2),y=v[0],k=v[1],_=Object(r.useState)(void 0),W=Object(a.a)(_,2),E=W[0],D=W[1],G=Object(r.useState)([]),F=Object(a.a)(G,2),N=F[0],J=F[1];Object(r.useEffect)((function(){k(L(p))}),[p]);return Object(g.jsxs)(w.a,{open:n,onClose:c,fullWidth:!0,children:[Object(g.jsx)(I.a,{children:\"What's on your mind?\"}),Object(g.jsxs)(P.a,{children:[Object(g.jsx)(M,{severity:E,message:N}),Object(g.jsx)(T.a,{value:l,autoFocus:!0,type:\"text\",margin:\"normal\",label:\"Title\",fullWidth:!0,variant:\"standard\",onChange:function(e){return d(e.target.value)}}),Object(g.jsx)(T.a,{value:p,type:\"text\",margin:\"normal\",label:\"Tags\",fullWidth:!0,placeholder:\"#HawkerFood #Travel #School\",variant:\"standard\",onChange:function(e){return S(e.target.value)}}),Object(g.jsx)(u.a,{container:!0,direction:\"row\",spacing:1,justifyContent:\"flex-start\",alignItems:\"flex-start\",children:y.length>0&&y.map((function(e){return Object(g.jsx)(u.a,{item:!0,children:Object(g.jsx)(j.a,{label:e})})}))}),Object(g.jsx)(T.a,{value:O,type:\"text\",margin:\"normal\",label:\"Say something here...\",fullWidth:!0,variant:\"standard\",multiline:!0,onChange:function(e){return m(e.target.value)}})]}),Object(g.jsxs)(A.a,{children:[Object(g.jsx)(U.a,{onClick:c,children:\"Cancel\"}),Object(g.jsx)(U.a,{onClick:function(){var e=[],n=y.toString();\"\"!==l&&\"\"!==O||e.push(\"Fill in all fields\"),e.length>0?(D(\"error\"),J(e)):fetch(t+\"/thread_pages/\"+s.id,{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title:l,body:O,tags:n})}).then((function(t){t.ok?(D(\"success\"),e.push(\"Changes saved!\"),J(e),d(\"\"),m(\"\"),S(\"\"),setTimeout((function(){return window.location.reload()}),1e3)):(D(\"error\"),e.push(\"Some error occured\"),J(e))})).catch((function(e){return console.log(e.message)}))},children:\"Edit Thread\"})]})]})},D=function(e){var t=e.API,n=e.currentUserState,r=e.thread,s=e.globalMessageState,o=c.a.useState(!1),i=Object(a.a)(o,2),l=i[0],u=i[1],j=c.a.useState(!1),h=Object(a.a)(j,2),b=h[0],O=h[1],m=c.a.useState(!1),x=Object(a.a)(m,2),S=x[0],v=x[1];return Object(g.jsxs)(d.a,{direction:\"row\",justifyContent:\"flex-end\",alignItems:\"center\",spacing:1,children:[Object(g.jsx)(f.a,{onClick:function(){n.isLoggedIn?u(!0):(s.setSeverityGlobalMessage(\"error\"),s.setGlobalMessage([\"Please login to comment\"]),s.handleOpenGlobalMessage())},children:Object(g.jsx)(y.a,{})}),Object(g.jsx)(_,{API:t,thread_page_id:r.id,openCreateComment:l,handleCloseCreateComment:function(){u(!1)},currentUserState:n}),r.user_id===n.currentUser.id&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{onClick:function(){v(!0)},children:Object(g.jsx)(C.a,{})}),Object(g.jsx)(E,{API:t,thread:r,openUpdateThread:S,handleCloseUpdateThread:function(){v(!1)}})]}),r.user_id===n.currentUser.id&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{onClick:function(){O(!0)},children:Object(g.jsx)(p.a,{})}),Object(g.jsx)(W,{API:t,thread_page_id:r.id,openDeleteThread:b,handleCloseDeleteThread:function(){O(!1)}})]})]})},G=function(e){var t=e.body,n=e.toOverflow,a=t.split(\"\\n\").filter((function(e){return\"\"!==e}));if(!n)return Object(g.jsx)(d.a,{direction:\"column\",spacing:0,children:a.map((function(e,t){return Object(g.jsxs)(\"div\",{children:[Object(g.jsx)(i.a,{align:\"left\",variant:\"body1\",children:e}),Object(g.jsx)(\"br\",{})]},t)}))});var r=a.join(\"...\");return Object(g.jsx)(i.a,{noWrap:n,align:\"left\",variant:\"body1\",children:r})},F=function(e){var t=e.API,n=e.toOverflow,a=e.thread,r=e.currentUserState,c=e.globalMessageState;return Object(g.jsxs)(s.a,{children:[Object(g.jsx)(o.a,{style:{padding:\"20px\"},href:\"/thread/\"+a.id,children:Object(g.jsx)(i.a,{variant:\"h4\",align:\"left\",children:a.title})}),Object(g.jsx)(l.a,{children:Object(g.jsxs)(d.a,{direction:\"column\",spacing:3,children:[Object(g.jsx)(m,{tagged:!0,user:a.user.username,time:new Date(a.created_at),tags:a.tags}),Object(g.jsx)(G,{body:a.body,toOverflow:n}),Object(g.jsx)(D,{globalMessageState:c,API:t,commentable:!0,thread:a,currentUserState:r})]})})]})},N=function(e){var t=e.API,n=e.threads,a=e.error,r=e.isLoaded,c=e.currentUserState,s=e.globalMessageState;return a?Object(g.jsxs)(\"div\",{children:[\"Error: \",a.message]}):r?Object(g.jsx)(\"div\",{style:{width:\"50vw\",margin:\"auto\",textAlign:\"center\"},children:Object(g.jsx)(d.a,{spacing:2,children:n.map((function(e){return Object(g.jsx)(F,{globalMessageState:s,API:t,toOverflow:!0,thread:e,currentUserState:c},e.id)}))})}):Object(g.jsx)(\"div\",{children:\"Loading...\"})},J=n(133),B=n.n(J),H=n(294),z=n(287),R=n(276),Y=n(300),q=n(135),K=n.n(q),Q=n(138),V=n.n(Q),X=function(e){var t=e.API,n=e.openCreateThread,c=e.handleCloseCreateThread,s=e.currentUserState,o=Object(r.useState)(\"\"),i=Object(a.a)(o,2),l=i[0],d=i[1],h=Object(r.useState)(\"\"),b=Object(a.a)(h,2),O=b[0],m=b[1],f=Object(r.useState)(\"#\"),x=Object(a.a)(f,2),p=x[0],S=x[1],C=Object(r.useState)([]),v=Object(a.a)(C,2),y=v[0],k=v[1],_=Object(r.useState)(void 0),W=Object(a.a)(_,2),E=W[0],D=W[1],G=Object(r.useState)([]),F=Object(a.a)(G,2),N=F[0],J=F[1];Object(r.useEffect)((function(){k(L(p))}),[p]);return Object(g.jsxs)(w.a,{open:n,onClose:c,fullWidth:!0,children:[Object(g.jsx)(I.a,{children:\"What's on your mind?\"}),Object(g.jsxs)(P.a,{children:[Object(g.jsx)(M,{severity:E,message:N}),Object(g.jsx)(T.a,{value:l,autoFocus:!0,type:\"text\",margin:\"normal\",label:\"Title\",fullWidth:!0,variant:\"standard\",onChange:function(e){return d(e.target.value)}}),Object(g.jsx)(T.a,{value:p,type:\"text\",margin:\"normal\",label:\"Tags\",fullWidth:!0,placeholder:\"#HawkerFood #Travel #School\",variant:\"standard\",onChange:function(e){return S(e.target.value)}}),Object(g.jsx)(u.a,{container:!0,direction:\"row\",spacing:1,justifyContent:\"flex-start\",alignItems:\"flex-start\",children:y.length>0&&y.map((function(e){return Object(g.jsx)(u.a,{item:!0,children:Object(g.jsx)(j.a,{label:e})})}))}),Object(g.jsx)(T.a,{value:O,type:\"text\",margin:\"normal\",label:\"Say something here...\",fullWidth:!0,variant:\"standard\",multiline:!0,onChange:function(e){return m(e.target.value)}})]}),Object(g.jsxs)(A.a,{children:[Object(g.jsx)(U.a,{onClick:c,children:\"Cancel\"}),Object(g.jsx)(U.a,{onClick:function(){var e=s.currentUser.id,n=y.toString(),a=[];\"\"!==l&&\"\"!==O||a.push(\"Fill in all fields\"),a.length>0?(D(\"error\"),J(a)):fetch(t+\"/thread_pages\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title:l,body:O,user_id:e,tags:n})}).then((function(e){e.ok?(D(\"success\"),a.push(\"You have created a new thread!\"),J(a),d(\"\"),m(\"\"),S(\"\"),setTimeout((function(){return window.location.reload()}),1e3)):(D(\"error\"),a.push(\"Some error occured\"),J(a))})).catch((function(e){return console.log(e.message)}))},children:\"Create Thread\"})]})]})},Z=n(136),$=n.n(Z),ee=function(e){var t=e.setThreadResults,n=e.currentUserState,s=e.API,l=e.globalMessageState,u=c.a.useState(!1),j=Object(a.a)(u,2),h=j[0],b=j[1],O=Object(r.useState)(!1),m=Object(a.a)(O,2),f=m[0],x=m[1],p=Object(r.useState)(\"\"),S=Object(a.a)(p,2),C=S[0],v=S[1],y=Object(r.useState)([]),w=Object(a.a)(y,2),I=w[0],P=w[1];return Object(r.useEffect)((function(){if(\"\"===C)P([]);else if(f){var e=L(C);console.log(e),fetch(s+\"/thread_pages/search/tags/autocomplete\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({tagsArray:e})}).then((function(e){return e.json()})).then((function(e){P(e)}))}else{var t=C;fetch(s+\"/thread_pages/search/title/autocomplete\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title:t})}).then((function(e){return e.json()})).then((function(e){P(e)}))}}),[C,f,s]),Object(g.jsxs)(\"div\",{style:{paddingTop:\"20px\",paddingBottom:\"20px\",position:\"sticky\",top:\"50px\",zIndex:\"1100\"},children:[Object(g.jsxs)(H.a,{component:\"form\",sx:{display:\"flex\",alignItems:\"center\"},children:[Object(g.jsx)(z.a,{sx:{ml:1,flex:1},placeholder:f?\"Search by Tags: #HawkerFood #Travel # School\":\"Search by Title\",value:C,onChange:function(e){return v(e.target.value)}}),Object(g.jsx)(Y.a,{onClick:function(){if(\"\"!==C)if(f){var e=L(C);fetch(s+\"/thread_pages/search/tags\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({tagsArray:e})}).then((function(e){return e.json()})).then((function(e){t(e)}))}else{var n=C;fetch(s+\"/thread_pages/search/title\",{method:\"POST\",mode:\"cors\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title:n})}).then((function(e){return e.json()})).then((function(e){t(e)}))}},children:Object(g.jsx)(K.a,{})}),Object(g.jsx)(Y.a,{onClick:function(){return x(!f)},children:Object(g.jsx)($.a,{color:f?\"primary\":\"disabled\"})}),Object(g.jsx)(R.a,{sx:{height:28,m:.5},orientation:\"vertical\"}),Object(g.jsx)(Y.a,{onClick:function(){n.isLoggedIn?b(!0):(l.setSeverityGlobalMessage(\"error\"),l.setGlobalMessage([\"Please login to create thread\"]),l.handleOpenGlobalMessage())},children:Object(g.jsx)(V.a,{})}),Object(g.jsx)(X,{API:s,openCreateThread:h,handleCloseCreateThread:function(){b(!1)},currentUserState:n})]}),I.length>0&&Object(g.jsx)(H.a,{sx:{justifyItems:\"flex-start\"},children:Object(g.jsx)(d.a,{direction:\"column\",alignItems:\"flex-start\",children:I.map((function(e){return Object(g.jsx)(o.a,{style:{paddingTop:3,paddingBottom:3,paddingLeft:8},onClick:function(){return t=e.id,void window.location.replace(window.location.protocol+\"//\"+window.location.host+\"/thread/\"+t.toString());var t},children:Object(g.jsx)(i.a,{align:\"left\",children:e.title},e.id)})}))})})]})},te=function(e){var t=e.currentUserState,n=e.API,c=e.globalMessageState,s=Object(r.useState)([]),o=Object(a.a)(s,2),l=o[0],d=o[1],u=Object(r.useState)(null),j=Object(a.a)(u,2),h=j[0],b=j[1],O=Object(r.useState)(!1),m=Object(a.a)(O,2),f=m[0],x=m[1],p=Object(r.useState)(l),S=Object(a.a)(p,2),C=S[0],v=S[1];return Object(r.useEffect)((function(){l.length>0?(x(!0),v(l)):fetch(n+\"/thread_pages\",{method:\"GET\",mode:\"cors\"}).then((function(e){return e.json()})).then((function(e){x(!0),v(e)}),(function(e){x(!0),b(e)}))}),[l,n]),Object(g.jsxs)(\"div\",{style:{width:\"50vw\",margin:\"auto\",textAlign:\"center\"},children:[Object(g.jsx)(i.a,{variant:\"h3\",style:{paddingTop:\"70px\"},children:Object(g.jsx)(B.a,{onInit:function(e){e.changeDelay(80).typeString(\"ChitChat\").pauseFor(1e3).start()}})}),Object(g.jsx)(ee,{setThreadResults:d,currentUserState:t,API:n,globalMessageState:c}),Object(g.jsx)(N,{globalMessageState:c,API:n,threads:C,currentUserState:t,error:h,isLoaded:f})]})},ne={id:0,title:\"\",body:\"\",user_id:0,tags:\"\",created_at:\"\",updated_at:\"\",comments:[],user:{username:\"\"}},ae=n(277),re=function(e){var t=e.API,n=e.openDeleteComment,c=e.handleCloseDeleteComment,s=e.comment,o=Object(r.useState)(void 0),i=Object(a.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)([]),j=Object(a.a)(u,2),h=j[0],b=j[1];return Object(g.jsxs)(w.a,{open:n,onClose:c,fullWidth:!0,children:[Object(g.jsx)(I.a,{children:\"Are you sure you want to delete this comment?\"}),Object(g.jsx)(P.a,{children:Object(g.jsx)(M,{severity:l,message:h})}),Object(g.jsxs)(A.a,{children:[Object(g.jsx)(U.a,{onClick:c,children:\"Cancel\"}),Object(g.jsx)(U.a,{onClick:function(){var e=[];fetch(t+\"/thread_pages/\"+s.thread_page_id.toString()+\"/comments/\"+s.id.toString(),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}}).then((function(t){t.ok?(d(\"success\"),e.push(\"You have deleted comment!\"),b(e),setTimeout((function(){return window.location.reload()}),1e3)):(d(\"error\"),e.push(\"Some error occured\"),b(e))})).catch((function(e){return console.log(e.message)}))},children:\"Delete Comment\"})]})]})},ce=function(e){var t=e.API,n=e.openUpdateComment,c=e.handleCloseUpdateComment,s=e.comment,o=Object(r.useState)(s.body),i=Object(a.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(void 0),j=Object(a.a)(u,2),h=j[0],b=j[1],O=Object(r.useState)([]),m=Object(a.a)(O,2),f=m[0],x=m[1];return Object(g.jsxs)(w.a,{open:n,onClose:c,fullWidth:!0,children:[Object(g.jsx)(I.a,{children:\"What's on your mind?\"}),Object(g.jsxs)(P.a,{children:[Object(g.jsx)(M,{severity:h,message:f}),Object(g.jsx)(T.a,{value:l,type:\"text\",margin:\"normal\",label:\"Say something here...\",fullWidth:!0,variant:\"standard\",multiline:!0,onChange:function(e){return d(e.target.value)}})]}),Object(g.jsxs)(A.a,{children:[Object(g.jsx)(U.a,{onClick:c,children:\"Cancel\"}),Object(g.jsx)(U.a,{onClick:function(){var e=[];\"\"===l&&e.push(\"Fill in all fields\"),e.length>0?(b(\"error\"),x(e)):fetch(t+\"/thread_pages/\"+s.thread_page_id+\"/comments/\"+s.id,{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({body:l})}).then((function(t){t.ok?(b(\"success\"),e.push(\"Changes saved!\"),x(e),d(\"\"),setTimeout((function(){return window.location.reload()}),1e3)):(b(\"error\"),e.push(\"Some error occured\"),x(e))})).catch((function(e){return console.log(e.message)}))},children:\"Save Changes\"})]})]})},se=function(e){var t=e.API,n=e.comment,r=e.currentUserState,s=c.a.useState(!1),o=Object(a.a)(s,2),i=o[0],l=o[1],u=c.a.useState(!1),j=Object(a.a)(u,2),h=j[0],b=j[1];return Object(g.jsxs)(d.a,{direction:\"row\",justifyContent:\"flex-end\",alignItems:\"center\",spacing:1,children:[n.user_id===r.currentUser.id&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{onClick:function(){b(!0)},children:Object(g.jsx)(C.a,{})}),Object(g.jsx)(ce,{API:t,comment:n,openUpdateComment:h,handleCloseUpdateComment:function(){b(!1)}})]}),n.user_id===r.currentUser.id&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{onClick:function(){l(!0)},children:Object(g.jsx)(p.a,{})}),Object(g.jsx)(re,{API:t,comment:n,openDeleteComment:i,handleCloseDeleteComment:function(){l(!1)}})]})]})},oe=Object(ae.a)({commentBody:{fontSize:16,whiteSpace:\"pre-wrap\",paddingBottom:\"1em\"},commentCard:{marginBottom:\"1em\"},metadata:{fontSize:14}}),ie=function(e){var t=e.API,n=e.comment,a=e.currentUserState,r=oe();return Object(g.jsx)(s.a,{className:r.commentCard,children:Object(g.jsx)(l.a,{children:Object(g.jsxs)(d.a,{direction:\"column\",spacing:3,children:[Object(g.jsx)(m,{tagged:!1,user:n.user.username,time:new Date(n.created_at),tags:\"\"}),Object(g.jsx)(G,{body:n.body,toOverflow:!1}),Object(g.jsx)(se,{API:t,comment:n,currentUserState:a})]})})})},le=function(e){var t=e.API,n=e.comments,a=e.currentUserState;return Object(g.jsx)(\"ul\",{children:n.map((function(e){return Object(g.jsx)(ie,{API:t,comment:e,currentUserState:a},e.id)}))})},de=function(e){var t=e.threadID,n=e.currentUserState,c=e.API,s=e.globalMessageState,o=Object(r.useState)(null),i=Object(a.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(!1),j=Object(a.a)(u,2),h=j[0],b=j[1],O=Object(r.useState)(ne),m=Object(a.a)(O,2),f=m[0],x=m[1];return Object(r.useEffect)((function(){fetch(c+\"/thread_pages/\"+t,{method:\"GET\",mode:\"cors\"}).then((function(e){return e.json()})).then((function(e){b(!0),x(e)}),(function(e){b(!0),d(e)}))}),[t,c]),l?Object(g.jsxs)(\"div\",{children:[\"Error: \",l.message]}):h?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(F,{globalMessageState:s,API:c,toOverflow:!1,thread:f,currentUserState:n},f.id),Object(g.jsx)(le,{API:c,comments:f.comments,currentUserState:n})]}):Object(g.jsx)(\"div\",{children:\"Loading...\"})},ue=n(17),je=function(e){var t=e.currentUserState,n=e.API,a=e.globalMessageState,r=Object(ue.g)().threadID;return Object(g.jsx)(\"div\",{style:{width:\"50vw\",margin:\"auto\",textAlign:\"center\",paddingTop:\"30px\"},children:Object(g.jsx)(de,{globalMessageState:a,threadID:r,currentUserState:t,API:n})})},he=n(111),be=n(141),Oe=n(293),ge=n(285),me=n(280),fe=n(281),xe=n(282),pe=n(296),Se=n(301),Ce=n(139),ve=n.n(Ce),ye=n(284),we=n(292),Ie=n(278),Pe=function(e){var t=e.API,n=e.openLogIn,c=e.handleCloseLogIn,s=e.currentUserState,o=(e.globalMessageState,Object(r.useState)(\"\")),i=Object(a.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(\"\"),j=Object(a.a)(u,2),h=j[0],b=j[1],O=Object(r.useState)(\"success\"),m=Object(a.a)(O,2),f=m[0],x=m[1],p=Object(r.useState)([]),S=Object(a.a)(p,2),C=S[0],v=S[1];return Object(g.jsxs)(w.a,{open:n,onClose:c,fullWidth:!0,children:[Object(g.jsx)(I.a,{children:\"Welcome Back!\"}),Object(g.jsxs)(P.a,{children:[Object(g.jsx)(Ie.a,{children:\"Log in to create threads, comment and more...\"}),Object(g.jsx)(Ie.a,{children:\"Dont have an account? Create one to do much more!\"}),Object(g.jsx)(M,{severity:f,message:C}),Object(g.jsx)(T.a,{autoFocus:!0,value:l,type:\"text\",margin:\"normal\",label:\"Username\",fullWidth:!0,variant:\"outlined\",onChange:function(e){return d(e.target.value)}}),Object(g.jsx)(T.a,{value:h,type:\"password\",margin:\"normal\",label:\"Password\",fullWidth:!0,variant:\"outlined\",onChange:function(e){return b(e.target.value)}})]}),Object(g.jsxs)(A.a,{children:[Object(g.jsx)(U.a,{onClick:c,children:\"Cancel\"}),Object(g.jsx)(U.a,{onClick:function(){var e=[];fetch(t+\"/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:l,password:h})}).then((function(e){return e.json()})).then((function(t){t.error?(x(\"error\"),t.error.map((function(t){return e.push(t)})),v(e)):(s.setCurrentUser(t.user),localStorage.setItem(\"token\",t.token),x(\"success\"),e.push(\"Logged in successfully!\"),v(e),d(\"\"),b(\"\"),setTimeout((function(){return window.location.reload()}),1e3))})).catch((function(e){return console.log(e.message)}))},children:\"Log In\"})]})]})},Te=function(e){var t=e.API,n=e.openCreateAccount,c=e.handleCloseCreateAccount,s=Object(r.useState)(\"\"),o=Object(a.a)(s,2),i=o[0],l=o[1],d=Object(r.useState)(\"\"),u=Object(a.a)(d,2),j=u[0],h=u[1],b=Object(r.useState)(\"\"),O=Object(a.a)(b,2),m=O[0],f=O[1],x=Object(r.useState)(void 0),p=Object(a.a)(x,2),S=p[0],C=p[1],v=Object(r.useState)([]),y=Object(a.a)(v,2),k=y[0],_=y[1];return Object(g.jsxs)(w.a,{open:n,onClose:c,fullWidth:!0,children:[Object(g.jsx)(I.a,{children:\"Join the ChitChat Community!\"}),Object(g.jsxs)(P.a,{children:[Object(g.jsx)(Ie.a,{children:\"Dont have an account? Create one to create threads, comment and more...\"}),Object(g.jsx)(M,{severity:S,message:k}),Object(g.jsx)(T.a,{autoFocus:!0,value:i,type:\"text\",margin:\"normal\",label:\"Username\",fullWidth:!0,variant:\"outlined\",onChange:function(e){return l(e.target.value.trim())}}),Object(g.jsx)(T.a,{value:j,type:\"password\",margin:\"normal\",label:\"Password\",fullWidth:!0,variant:\"outlined\",onChange:function(e){return h(e.target.value)}}),Object(g.jsx)(T.a,{value:m,type:\"password\",margin:\"normal\",label:\"Confirm Password\",fullWidth:!0,variant:\"outlined\",onChange:function(e){return f(e.target.value)}})]}),Object(g.jsxs)(A.a,{children:[Object(g.jsx)(U.a,{onClick:c,children:\"Close\"}),Object(g.jsx)(U.a,{onClick:function(){var e=[];fetch(t+\"/users\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:i,password:j,password_confirmation:m})}).then((function(t){return t.ok&&(C(\"success\"),e.push(\"Account created successfully. Log in to do more!\"),_(e),l(\"\"),h(\"\"),f(\"\"),setTimeout((function(){return window.location.reload()}),1e3)),t.json()})).then((function(t){t.error&&(C(\"error\"),t.error.map((function(t){return e.push(t)})),_(e))})).catch((function(e){return console.log(e.message)}))},children:\"Create Account\"})]})]})},Ae=function(e){var t=e.API,n=e.openChangePassword,c=e.handleCloseChangePassword,s=e.currentUserState,o=Object(r.useState)(\"\"),i=Object(a.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(\"\"),j=Object(a.a)(u,2),h=j[0],b=j[1],O=Object(r.useState)(void 0),m=Object(a.a)(O,2),f=m[0],x=m[1],p=Object(r.useState)([]),S=Object(a.a)(p,2),C=S[0],v=S[1];return Object(g.jsxs)(w.a,{open:n,onClose:c,fullWidth:!0,children:[Object(g.jsx)(I.a,{children:\"Change Password\"}),Object(g.jsxs)(P.a,{children:[\"display success/error messages\",Object(g.jsx)(M,{severity:f,message:C}),Object(g.jsx)(T.a,{value:l,type:\"password\",margin:\"normal\",label:\"Password\",fullWidth:!0,variant:\"outlined\",onChange:function(e){return d(e.target.value)}}),Object(g.jsx)(T.a,{value:h,type:\"password\",margin:\"normal\",label:\"Confirm Password\",fullWidth:!0,variant:\"outlined\",onChange:function(e){return b(e.target.value)}})]}),Object(g.jsxs)(A.a,{children:[Object(g.jsx)(U.a,{onClick:c,children:\"Close\"}),Object(g.jsx)(U.a,{onClick:function(){var e=l,n=h,a=[];fetch(t+\"/users/\"+s.currentUser.id,{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:e,password_confirmation:n})}).then((function(e){return e.ok&&(x(\"success\"),a.push(\"Password Changed!\"),v(a),d(\"\"),b(\"\"),setTimeout((function(){return window.location.reload()}),1e3)),e.json()})).then((function(e){e.error&&(x(\"error\"),e.error.map((function(e){return a.push(e)})),v(a))})).catch((function(e){return console.log(e.message)}))},children:\"Change Password\"})]})]})},Ue=function(e){var t=e.API,n=e.anchorElAccountSettings,c=e.openAccountSettings,s=e.handleCloseAccountSettings,o=e.currentUserState,i=e.globalMessageState,l=r.useState(!1),d=Object(a.a)(l,2),u=d[0],j=d[1],h=r.useState(!1),b=Object(a.a)(h,2),O=b[0],m=b[1],f=r.useState(!1),x=Object(a.a)(f,2),p=x[0],S=x[1];return Object(g.jsx)(\"div\",{children:o.isLoggedIn?Object(g.jsxs)(ye.a,{id:\"account-settings\",anchorEl:n,open:c,onClose:s,MenuListProps:{\"aria-labelledby\":\"basic-button\"},children:[Object(g.jsx)(we.a,{onClick:function(){S(!0)},children:\"Change Password\"}),Object(g.jsx)(Ae,{API:t,openChangePassword:p,handleCloseChangePassword:function(){S(!1)},currentUserState:o}),Object(g.jsx)(we.a,{onClick:function(){o.setCurrentUser(o.emptyCurrentUser),localStorage.removeItem(\"token\"),window.location.reload()},children:\"Log Out\"})]}):Object(g.jsxs)(ye.a,{id:\"account-settings\",anchorEl:n,open:c,onClose:s,MenuListProps:{\"aria-labelledby\":\"basic-button\"},children:[Object(g.jsx)(we.a,{onClick:function(){j(!0)},children:\"Log In\"}),Object(g.jsx)(Pe,{API:t,openLogIn:u,handleCloseLogIn:function(){j(!1)},currentUserState:o,globalMessageState:i}),Object(g.jsx)(we.a,{onClick:function(){m(!0)},children:\"Create Account\"}),Object(g.jsx)(Te,{API:t,openCreateAccount:O,handleCloseCreateAccount:function(){m(!1)}})]})})},ke=function(e){var t=e.API,n=e.currentUserState,r=e.globalMessageState,s=c.a.useState(null),l=Object(a.a)(s,2),u=l[0],j=l[1],h=Boolean(u),b=[{pageName:\"MyThreads\",href:\"/mythreads\"}];return Object(g.jsx)(ge.a,{marginBottom:\"70px\",children:Object(g.jsx)(me.a,{position:\"fixed\",style:{zIndex:\"1200\"},children:Object(g.jsx)(fe.a,{maxWidth:\"xl\",children:Object(g.jsxs)(xe.a,{disableGutters:!0,children:[Object(g.jsxs)(ge.a,{flexGrow:1,display:\"flex\",alignItems:\"center\",children:[Object(g.jsx)(ve.a,{sx:{mr:1}}),Object(g.jsx)(i.a,{variant:\"h6\",component:\"a\",href:\"/\",style:{color:\"inherit\",textDecoration:\"none\",marginRight:\"40px\"},children:\"ChitChat\"}),Object(g.jsx)(d.a,{direction:\"row\",children:n.isLoggedIn&&b.map((function(e){return Object(g.jsx)(o.a,{style:{padding:\"10px\",borderRadius:\"10px\"},href:e.href,children:Object(g.jsx)(i.a,{children:e.pageName})},e.pageName)}))})]}),Object(g.jsx)(pe.a,{title:\"Account Settings\",children:Object(g.jsx)(f.a,{id:\"basic-button\",\"aria-controls\":h?\"account-settings\":void 0,\"aria-haspopup\":\"true\",\"aria-expanded\":h?\"true\":void 0,onClick:function(e){j(e.currentTarget)},children:Object(g.jsx)(Se.a,{})})}),Object(g.jsx)(Ue,{API:t,anchorElAccountSettings:u,openAccountSettings:h,handleCloseAccountSettings:function(){j(null)},currentUserState:n,globalMessageState:r})]})})})})},Me=n(289),_e=function(e){var t=e.globalMessage,n=e.severityGlobalMessage,a=e.handleCloseGlobalMessage,r=e.openGlobalMessage;return Object(g.jsx)(d.a,{spacing:2,children:t.map((function(e){return Object(g.jsx)(Me.a,{open:r,autoHideDuration:6e3,onClose:a,children:Object(g.jsx)(k.a,{onClose:a,severity:n,sx:{width:\"100%\"},children:e})})}))})},We=function(e){var t=e.currentUserState,n=e.API,c=e.globalMessageState,s=Object(r.useState)(null),o=Object(a.a)(s,2),l=o[0],d=o[1],u=Object(r.useState)(!1),j=Object(a.a)(u,2),h=j[0],b=j[1],O=Object(r.useState)([]),m=Object(a.a)(O,2),f=m[0],x=m[1];return Object(r.useEffect)((function(){t.isLoggedIn&&fetch(n+\"/mythreads/\"+t.currentUser.id,{method:\"GET\",mode:\"cors\"}).then((function(e){return e.json()})).then((function(e){b(!0),x(e)}),(function(e){b(!0),d(e)}))}),[t.isLoggedIn,t.currentUser.id,n]),Object(g.jsx)(\"div\",{style:{width:\"50vw\",margin:\"auto\",textAlign:\"center\",paddingTop:\"30px\"},children:0===f.length?Object(g.jsx)(i.a,{variant:\"h6\",children:\"Opps! Looking empty... Go ahead and create your first thread!\"}):Object(g.jsx)(N,{globalMessageState:c,API:n,threads:f,error:l,isLoaded:h,currentUserState:t})})},Le=\"https://chitchat-4uee.onrender.com/\",Ee=Object(be.a)({palette:{primary:{light:\"#757ce8\",main:\"#3f50b5\",dark:\"#002884\",contrastText:\"#fff\"},secondary:{light:\"#ff7961\",main:\"#f44336\",dark:\"#ba000d\",contrastText:\"#000\"}}}),De=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(void 0),o=Object(a.a)(s,2),i=o[0],l=o[1],d=Object(r.useState)(!0),u=Object(a.a)(d,2),j=u[0],h=u[1],b={setGlobalMessage:c,setSeverityGlobalMessage:l,handleOpenGlobalMessage:function(){h(!0)}},O={id:0,username:\"\",password_digest:\"\",created_at:\"\",updated_at:\"\"},m=Object(r.useState)(O),f=Object(a.a)(m,2),x=f[0],p=f[1],S={currentUser:x,setCurrentUser:p,emptyCurrentUser:O,isLoggedIn:0!==x.id};return Object(r.useEffect)((function(){var e=[],t=localStorage.getItem(\"token\");t&&fetch(Le+\"/login\",{method:\"GET\",headers:{Authorization:\"\".concat(t)}}).then((function(e){return e.json()})).then((function(t){t.error?(l(\"error\"),t.error.map((function(t){return e.push(t)})),c(e)):p(t)}))}),[]),Object(g.jsx)(\"div\",{className:\"App\",children:Object(g.jsxs)(Oe.a,{theme:Ee,children:[Object(g.jsx)(ke,{API:Le,currentUserState:S,globalMessageState:b}),Object(g.jsx)(_e,{globalMessage:n,severityGlobalMessage:i,openGlobalMessage:j,handleCloseGlobalMessage:function(){h(!1),l(void 0),c([])}}),Object(g.jsx)(he.a,{children:Object(g.jsxs)(ue.c,{children:[Object(g.jsx)(ue.a,{path:\"/thread/:threadID\",element:Object(g.jsx)(je,{globalMessageState:b,currentUserState:S,API:Le})}),Object(g.jsx)(ue.a,{path:\"/\",element:Object(g.jsx)(te,{globalMessageState:b,currentUserState:S,API:Le})}),Object(g.jsx)(ue.a,{path:\"/mythreads\",element:Object(g.jsx)(We,{globalMessageState:b,currentUserState:S,API:Le})})]})})]})})},Ge=n(21),Fe=n.n(Ge);n(191);Fe.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(De,{})}),document.getElementById(\"root\"))}},[[192,1,2]]]);","name":"static/js/main.2edbccf3.chunk.js","map":{"version":3,"sources":["static/js/main.2edbccf3.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","slicedToArray","react","react_default","n","Card","CardActionArea","Typography","CardContent","Stack","Grid","Chip","Avatar","moment","moment_default","jsx_runtime","components_AvatarUserTimeTags","_ref","tagged","user","time","tags","tagsArray","split","Object","container","children","item","xs","direction","spacing","align","variant","color","fromNow","justifyContent","alignItems","map","tag","label","IconButton","Delete","Delete_default","Edit","Edit_default","Comment","Comment_default","Dialog","DialogTitle","DialogContent","TextField","DialogActions","Button","Alert","components_AlertUser","severity","message","error","comment_CreateComment","API","openCreateComment","handleCloseCreateComment","thread_page_id","currentUserState","_useState","_useState2","body","setBody","_useState3","undefined","_useState4","setSeverity","_useState5","_useState6","setMessage","open","onClose","fullWidth","value","autoFocus","type","margin","multiline","onChange","event","target","onClick","user_id","currentUser","id","new_message","length","fetch","toString","method","headers","JSON","stringify","then","response","ok","setTimeout","window","location","reload","catch","console","log","thread_DeleteThread","openDeleteThread","handleCloseDeleteThread","url","href","startsWith","protocol","host","replace","strToArray","str","toLowerCase","filter","thread_UpdateThread","openUpdateThread","handleCloseUpdateThread","thread","title","setTitle","join","tagsInput","setTagsInput","_useState7","_useState8","setTagsArray","_useState9","_useState10","_useState11","_useState12","placeholder","thread_DeleteEditCommentOnThread","globalMessageState","_React$useState","a","useState","_React$useState2","setOpenCreateComment","_React$useState3","_React$useState4","setOpenDeleteThread","_React$useState5","_React$useState6","setOpenUpdateThread","isLoggedIn","setSeverityGlobalMessage","setGlobalMessage","handleOpenGlobalMessage","components_BodyAddHTML","toOverflow","body_array","ele","line","index","body_elipsis","noWrap","ThreadMainPost","style","padding","username","Date","created_at","commentable","thread_ThreadList","threads","isLoaded","width","textAlign","dist_react","dist_react_default","Paper","InputBase","Divider","IconButton_IconButton","Search","Search_default","LibraryAdd","LibraryAdd_default","thread_CreateThread","openCreateThread","handleCloseCreateThread","Tag","Tag_default","components_SearchBar","setThreadResults","setOpenCreateThread","searchByTags","setSearchByTags","search","setSearch","results","setResults","mode","res","json","result","paddingTop","paddingBottom","position","top","zIndex","component","sx","display","ml","flex","height","m","orientation","justifyItems","paddingLeft","threadID","pages_Home","threadResults","setError","setIsLoaded","setThreads","onInit","typewriter","changeDelay","typeString","pauseFor","start","emptyThread","updated_at","comments","makeStyles","comment_DeleteComment","openDeleteComment","handleCloseDeleteComment","comment","comment_UpdateComment","openUpdateComment","handleCloseUpdateComment","comment_DeleteEditOnComment","setOpenDeleteComment","setOpenUpdateComment","useStyles","commentBody","fontSize","whiteSpace","commentCard","marginBottom","metadata","comment_CommentItem","classes","className","comment_CommentList","thread_ThreadView","setThread","react_router","pages_ThreadPage","react_router_dom","createTheme","ThemeProvider","Box","AppBar","Container","Toolbar","Tooltip","Avatar_Avatar","Forum","Forum_default","Menu","MenuItem","DialogContentText","account_LogIn","openLogIn","handleCloseLogIn","setUsername","password","setPassword","data","setCurrentUser","localStorage","setItem","token","account_CreateAccount","openCreateAccount","handleCloseCreateAccount","password_confirmation","setPassword_confirmation","trim","account_ChangePassword","openChangePassword","handleCloseChangePassword","newPassword","setNewPassword","newPasswordConfirmation","setNewPasswordConfirmation","account_AccountSettings","anchorElAccountSettings","openAccountSettings","handleCloseAccountSettings","setOpenLogIn","setOpenCreateAccount","setOpenChangePassword","anchorEl","MenuListProps","emptyCurrentUser","removeItem","components_NavBar","setAnchorElAccountSettings","Boolean","pages","pageName","maxWidth","disableGutters","flexGrow","mr","textDecoration","marginRight","page","borderRadius","currentTarget","Snackbar","components_GlobalMessage","globalMessage","severityGlobalMessage","handleCloseGlobalMessage","openGlobalMessage","autoHideDuration","pages_MyThreads","App_API","theme","palette","primary","light","main","dark","contrastText","secondary","src_App_0","setOpenGlobalMessage","password_digest","getItem","Authorization","concat","path","element","react_dom","react_dom_default","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpsample\"] = this[\"webpackJsonpsample\"] || []).push([[0],{\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 191:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 192:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(121);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Card/Card.js\nvar Card = __webpack_require__(272);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CardActionArea/CardActionArea.js\nvar CardActionArea = __webpack_require__(273);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__(145);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CardContent/CardContent.js\nvar CardContent = __webpack_require__(274);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Stack/Stack.js + 1 modules\nvar Stack = __webpack_require__(298);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grid/Grid.js\nvar Grid = __webpack_require__(260);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Chip/Chip.js + 1 modules\nvar Chip = __webpack_require__(299);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Avatar/Avatar.js + 2 modules\nvar Avatar = __webpack_require__(297);\n\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(112);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/components/AvatarUserTimeTags.tsx\n// layout of user avatar, username, datae and time, and tags\nvar AvatarUserTimeTags_AvatarUserTimeTags=function AvatarUserTimeTags(_ref){var tagged=_ref.tagged,user=_ref.user,time=_ref.time,tags=_ref.tags;// if tags to be displayed (for threads)\nif(tagged){// empty array if tags is empty (so that tags array will not display empty chip)\nvar tagsArray=tags===\"\"?[]:tags.split(\",\");return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:6,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Stack[\"a\" /* default */],{direction:\"row\",spacing:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Stack[\"a\" /* default */],{direction:\"column\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{align:\"left\",variant:\"h5\",children:user}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{align:\"left\",variant:\"subtitle1\",color:\"textSecondary\",children:moment_default()(time).fromNow()})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,container:true,xs:6,direction:\"row\",spacing:1,justifyContent:\"flex-end\",alignItems:\"flex-start\",children:tagsArray.map(function(tag){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Chip[\"a\" /* default */],{label:tag})},tag);})})]});}// Without tags (for comments)\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:6,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Stack[\"a\" /* default */],{direction:\"row\",spacing:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Stack[\"a\" /* default */],{direction:\"column\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{align:\"left\",variant:\"h5\",children:user}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{align:\"left\",variant:\"subtitle1\",color:\"textSecondary\",children:moment_default()(time).fromNow()})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:6})]});};/* harmony default export */ var components_AvatarUserTimeTags = (AvatarUserTimeTags_AvatarUserTimeTags);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/IconButton/IconButton.js\nvar IconButton = __webpack_require__(270);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Delete.js\nvar Delete = __webpack_require__(99);\nvar Delete_default = /*#__PURE__*/__webpack_require__.n(Delete);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Edit.js\nvar Edit = __webpack_require__(98);\nvar Edit_default = /*#__PURE__*/__webpack_require__.n(Edit);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Comment.js\nvar Comment = __webpack_require__(132);\nvar Comment_default = /*#__PURE__*/__webpack_require__.n(Comment);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Dialog/Dialog.js + 2 modules\nvar Dialog = __webpack_require__(295);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/DialogTitle/DialogTitle.js\nvar DialogTitle = __webpack_require__(265);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/DialogContent/DialogContent.js\nvar DialogContent = __webpack_require__(266);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/TextField/TextField.js + 26 modules\nvar TextField = __webpack_require__(283);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/DialogActions/DialogActions.js\nvar DialogActions = __webpack_require__(268);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(269);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Alert/Alert.js + 6 modules\nvar Alert = __webpack_require__(288);\n\n// CONCATENATED MODULE: ./src/components/AlertUser.tsx\n// display success/error messages to user from array of messages (displayed in dialog pages, different from global messages)\nvar AlertUser_AlertUser=function AlertUser(_ref){var severity=_ref.severity,message=_ref.message;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:message.map(function(error){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{severity:severity,children:error});})});};/* harmony default export */ var components_AlertUser = (AlertUser_AlertUser);\n// CONCATENATED MODULE: ./src/components/comment/CreateComment.tsx\n// create comment dialog page\nvar CreateComment_CreateComment=function CreateComment(_ref){var API=_ref.API,openCreateComment=_ref.openCreateComment,handleCloseCreateComment=_ref.handleCloseCreateComment,thread_page_id=_ref.thread_page_id,currentUserState=_ref.currentUserState;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),body=_useState2[0],setBody=_useState2[1];var _useState3=Object(react[\"useState\"])(undefined),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),severity=_useState4[0],setSeverity=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var resetCreateComment=function resetCreateComment(){setBody(\"\");};// on clicking create button, post to backend\nvar handleSubmitCreateComment=function handleSubmitCreateComment(){var user_id=currentUserState.currentUser.id;// reset message array, before adding messages\nvar new_message=[];// reject empty fields\nif(body===\"\"){new_message.push(\"Fill in all fields\");}if(new_message.length>0){setSeverity('error');setMessage(new_message);}else{fetch(API+\"/thread_pages/\"+thread_page_id.toString()+\"/comments\",{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({body:body,user_id:user_id,thread_page_id:thread_page_id})}).then(function(response){if(response.ok){setSeverity('success');new_message.push(\"You have created a new comment!\");setMessage(new_message);// empty fields (prevent creation of duplicate comments) and refresh page\nresetCreateComment();setTimeout(function(){return window.location.reload();},1000);}else{setSeverity('error');new_message.push(\"Some error occured\");setMessage(new_message);}}).catch(function(error){return console.log(error.message);});}};// dialog containing body text, and \"close\" and \"create comment\" buttons\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dialog[\"a\" /* default */],{open:openCreateComment,onClose:handleCloseCreateComment,fullWidth:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogTitle[\"a\" /* default */],{children:\"What's on your mind?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogContent[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AlertUser,{severity:severity,message:message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{value:body,autoFocus:true,type:\"text\",margin:\"normal\",label:\"Say something here...\",fullWidth:true,variant:\"standard\",multiline:true,onChange:function onChange(event){return setBody(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogActions[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleCloseCreateComment,children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleSubmitCreateComment,children:\"Comment\"})]})]});};/* harmony default export */ var comment_CreateComment = (CreateComment_CreateComment);\n// CONCATENATED MODULE: ./src/components/thread/DeleteThread.tsx\n// Delete thread dialog page\nvar DeleteThread_DeleteThread=function DeleteThread(_ref){var API=_ref.API,openDeleteThread=_ref.openDeleteThread,handleCloseDeleteThread=_ref.handleCloseDeleteThread,thread_page_id=_ref.thread_page_id;var _useState=Object(react[\"useState\"])(undefined),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),severity=_useState2[0],setSeverity=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),message=_useState4[0],setMessage=_useState4[1];// On clicking submit button, delete thread in backend\nvar handleSubmitDeleteThread=function handleSubmitDeleteThread(){var new_message=[];fetch(API+\"/thread_pages/\"+thread_page_id.toString(),{method:'DELETE',headers:{\"Content-Type\":\"application/json\"}}).then(function(response){if(response.ok){setSeverity('success');new_message.push(\"You have deleted thread!\");setMessage(new_message);var url=window.location.href;// If page before opening dialog was individual threads page (ThreadView page), return to home, since thread deleted\n// Else, return to page user was on\nsetTimeout(url.startsWith(window.location.protocol+\"//\"+window.location.host+\"/thread\")?function(){return window.location.replace(window.location.protocol+\"//\"+window.location.host);}:function(){return window.location.reload();},1000);}else{setSeverity('error');new_message.push(\"Some error occured\");setMessage(new_message);}}).catch(function(error){return console.log(error.message);});};// Dialog page contains \"cancel\" and \"delete thread\" buttons\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dialog[\"a\" /* default */],{open:openDeleteThread,onClose:handleCloseDeleteThread,fullWidth:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogTitle[\"a\" /* default */],{children:\"Are you sure you want to delete this thread?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogContent[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AlertUser,{severity:severity,message:message})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogActions[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleCloseDeleteThread,children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleSubmitDeleteThread,children:\"Delete Thread\"})]})]});};/* harmony default export */ var thread_DeleteThread = (DeleteThread_DeleteThread);\n// CONCATENATED MODULE: ./src/actions/actions.tsx\nvar strToArray=function strToArray(str){return str.replace(/\\s/g,\"\").toLowerCase().split(\"#\").filter(function(tag){return tag!==\"\";});};var arrayStrToStr=function arrayStrToStr(arrayStr){return\"#\"+arrayStr.split(\",\").join(\"#\");};\n// CONCATENATED MODULE: ./src/components/thread/UpdateThread.tsx\n// Edit thread dialog (must be creator of thread and logged in)\nvar UpdateThread_UpdateThread=function UpdateThread(_ref){var API=_ref.API,openUpdateThread=_ref.openUpdateThread,handleCloseUpdateThread=_ref.handleCloseUpdateThread,thread=_ref.thread;var _useState=Object(react[\"useState\"])(thread.title),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=Object(react[\"useState\"])(thread.body),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),body=_useState4[0],setBody=_useState4[1];var _useState5=Object(react[\"useState\"])(arrayStrToStr(thread.tags)),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),tagsInput=_useState6[0],setTagsInput=_useState6[1];// tags string directly from user input\nvar _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),tagsArray=_useState8[0],setTagsArray=_useState8[1];// tags parsed into arrays\nvar _useState9=Object(react[\"useState\"])(undefined),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),severity=_useState10[0],setSeverity=_useState10[1];var _useState11=Object(react[\"useState\"])([]),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),message=_useState12[0],setMessage=_useState12[1];var resetUpdateThread=function resetUpdateThread(){setTitle(\"\");setBody(\"\");setTagsInput(\"\");};// whenver tagsInput string changed by user, update tagsArray\nObject(react[\"useEffect\"])(function(){setTagsArray(strToArray(tagsInput));},[tagsInput]);// On clicking submit button, patch changes to backend\nvar handleSubmitUpdateThread=function handleSubmitUpdateThread(){// empty message array, before adding error/success messages\nvar new_message=[];// array as string equivalent in backend\nvar tags=tagsArray.toString();// check that all fields are not empty\nif(title===\"\"||body===\"\"){new_message.push(\"Fill in all fields\");}if(new_message.length>0){setSeverity('error');setMessage(new_message);}else{fetch(API+\"/thread_pages/\"+thread.id,{method:'PATCH',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title:title,body:body,tags:tags})}).then(function(response){if(response.ok){setSeverity('success');new_message.push(\"Changes saved!\");setMessage(new_message);// Empty all fields (prevent resubmission) and refresh page\nresetUpdateThread();setTimeout(function(){return window.location.reload();},1000);}else{setSeverity('error');new_message.push(\"Some error occured\");setMessage(new_message);}}).catch(function(error){return console.log(error.message);});}};// Dialog page contains \"title\" and \"body\" text fields, and \"close\" and \"edit thread\" (submit changes) buttons\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dialog[\"a\" /* default */],{open:openUpdateThread,onClose:handleCloseUpdateThread,fullWidth:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogTitle[\"a\" /* default */],{children:\"What's on your mind?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogContent[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AlertUser,{severity:severity,message:message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{value:title,autoFocus:true,type:\"text\",margin:\"normal\",label:\"Title\",fullWidth:true,variant:\"standard\",onChange:function onChange(event){return setTitle(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{value:tagsInput,type:\"text\",margin:\"normal\",label:\"Tags\",fullWidth:true,placeholder:\"#HawkerFood #Travel #School\",variant:\"standard\",onChange:function onChange(event){return setTagsInput(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,direction:\"row\",spacing:1,justifyContent:\"flex-start\",alignItems:\"flex-start\",children:tagsArray.length>0&&tagsArray.map(function(tag){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Chip[\"a\" /* default */],{label:tag})});})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{value:body,type:\"text\",margin:\"normal\",label:\"Say something here...\",fullWidth:true,variant:\"standard\",multiline:true,onChange:function onChange(event){return setBody(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogActions[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleCloseUpdateThread,children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleSubmitUpdateThread,children:\"Edit Thread\"})]})]});};/* harmony default export */ var thread_UpdateThread = (UpdateThread_UpdateThread);\n// CONCATENATED MODULE: ./src/components/thread/DeleteEditCommentOnThread.tsx\n// row of delete, edit and comment buttons on thread card\nvar DeleteEditCommentOnThread_DeleteEditCommentOnThread=function DeleteEditCommentOnThread(_ref){var API=_ref.API,currentUserState=_ref.currentUserState,thread=_ref.thread,globalMessageState=_ref.globalMessageState;// toggle open/close \"create comment\" dialog page\n// allow user to create comment only if logged in (user info required)\nvar _React$useState=react_default.a.useState(false),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),openCreateComment=_React$useState2[0],setOpenCreateComment=_React$useState2[1];var handleClickOpenCreateComment=function handleClickOpenCreateComment(){if(currentUserState.isLoggedIn){setOpenCreateComment(true);}else{globalMessageState.setSeverityGlobalMessage(\"error\");globalMessageState.setGlobalMessage([\"Please login to comment\"]);globalMessageState.handleOpenGlobalMessage();}};var handleCloseCreateComment=function handleCloseCreateComment(){setOpenCreateComment(false);};// toggle open/close \"delete thread\" dialog page\nvar _React$useState3=react_default.a.useState(false),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),openDeleteThread=_React$useState4[0],setOpenDeleteThread=_React$useState4[1];var handleClickOpenDeleteThread=function handleClickOpenDeleteThread(){setOpenDeleteThread(true);};var handleCloseDeleteThread=function handleCloseDeleteThread(){setOpenDeleteThread(false);};// toggle open/close \"update/edit thread\" dialog pagae\nvar _React$useState5=react_default.a.useState(false),_React$useState6=Object(slicedToArray[\"a\" /* default */])(_React$useState5,2),openUpdateThread=_React$useState6[0],setOpenUpdateThread=_React$useState6[1];var handleClickOpenUpdateThread=function handleClickOpenUpdateThread(){setOpenUpdateThread(true);};var handleCloseUpdateThread=function handleCloseUpdateThread(){setOpenUpdateThread(false);};// open \"create comment\" / \"update thread\" / \"delete thread\" dialog pages on clicking respectively buttons\n// display \"update thread\" and \"delete thread\" buttons only for creators that are logged in\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Stack[\"a\" /* default */],{direction:\"row\",justifyContent:\"flex-end\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleClickOpenCreateComment,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Comment_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(comment_CreateComment,{API:API,thread_page_id:thread.id,openCreateComment:openCreateComment,handleCloseCreateComment:handleCloseCreateComment,currentUserState:currentUserState}),thread.user_id===currentUserState.currentUser.id&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleClickOpenUpdateThread,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Edit_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thread_UpdateThread,{API:API,thread:thread,openUpdateThread:openUpdateThread,handleCloseUpdateThread:handleCloseUpdateThread})]}),thread.user_id===currentUserState.currentUser.id&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleClickOpenDeleteThread,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Delete_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thread_DeleteThread,{API:API,thread_page_id:thread.id,openDeleteThread:openDeleteThread,handleCloseDeleteThread:handleCloseDeleteThread})]})]});};/* harmony default export */ var thread_DeleteEditCommentOnThread = (DeleteEditCommentOnThread_DeleteEditCommentOnThread);\n// CONCATENATED MODULE: ./src/components/BodyAddHTML.tsx\nvar BodyAddHTML_BodyAddHTML=function BodyAddHTML(_ref){var body=_ref.body,toOverflow=_ref.toOverflow;// parse body string obtained from backend, and convert into array of tags string, with \"next line\" property handled\nvar body_array=body.split('\\n').filter(function(ele){return ele!==\"\";});// if text to be fully displayed (threads in individual ThreadView page)\nif(!toOverflow){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stack[\"a\" /* default */],{direction:\"column\",spacing:0,children:body_array.map(function(line,index){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{align:\"left\",variant:\"body1\",children:line}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]},index);})});}// if text-overflow: \"...\" to summarize text and keep text short (threads list view eg. homepage and mythreads page)\nvar body_elipsis=body_array.join('...');return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{noWrap:toOverflow,align:\"left\",variant:\"body1\",children:body_elipsis});};/* harmony default export */ var components_BodyAddHTML = (BodyAddHTML_BodyAddHTML);\n// CONCATENATED MODULE: ./src/components/thread/ThreadMainPost.tsx\n// display individual thread: title, body, user, tags, and button icons to edit, delete or comment\nvar ThreadMainPost_ThreadPost=function ThreadPost(_ref){var API=_ref.API,toOverflow=_ref.toOverflow,thread=_ref.thread,currentUserState=_ref.currentUserState,globalMessageState=_ref.globalMessageState;return/*#__PURE__*/ (// Clickable title: redirect to individual thread page (expecially on home page, where threads have text-oveflow and comments are hidden)\nObject(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardActionArea[\"a\" /* default */],{style:{padding:'20px'},href:'/thread/'+thread.id,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h4\",align:\"left\",children:thread.title})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardContent[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Stack[\"a\" /* default */],{direction:\"column\",spacing:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AvatarUserTimeTags,{tagged:true,user:thread.user.username,time:new Date(thread.created_at),tags:thread.tags}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_BodyAddHTML,{body:thread.body,toOverflow:toOverflow}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thread_DeleteEditCommentOnThread,{globalMessageState:globalMessageState,API:API,commentable:true,thread:thread,currentUserState:currentUserState})]})})]}));};/* harmony default export */ var ThreadMainPost = (ThreadMainPost_ThreadPost);\n// CONCATENATED MODULE: ./src/components/thread/ThreadList.tsx\n// Display sequence of threads (overflowed body-text)\nvar ThreadList_ThreadList=function ThreadList(_ref){var API=_ref.API,threads=_ref.threads,error=_ref.error,isLoaded=_ref.isLoaded,currentUserState=_ref.currentUserState,globalMessageState=_ref.globalMessageState;// Display \"loading\" until response received, then display error or threads\nif(error){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Error: \",error.message]});}else if(!isLoaded){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Loading...\"});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{width:'50vw',margin:'auto',textAlign:'center'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stack[\"a\" /* default */],{spacing:2,children:threads.map(function(thread){return/*#__PURE__*/ (// List of threads: title, body, user, tags, and button icons to edit, delete or comment\nObject(jsx_runtime[\"jsx\"])(ThreadMainPost,{globalMessageState:globalMessageState,API:API,toOverflow:true,thread:thread,currentUserState:currentUserState},thread.id));})})});}};/* harmony default export */ var thread_ThreadList = (ThreadList_ThreadList);\n// EXTERNAL MODULE: ./node_modules/typewriter-effect/dist/react.js\nvar dist_react = __webpack_require__(133);\nvar dist_react_default = /*#__PURE__*/__webpack_require__.n(dist_react);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Paper/Paper.js + 2 modules\nvar Paper = __webpack_require__(294);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/InputBase/InputBase.js + 7 modules\nvar InputBase = __webpack_require__(287);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Divider/Divider.js\nvar Divider = __webpack_require__(276);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/IconButton/IconButton.js + 1 modules\nvar IconButton_IconButton = __webpack_require__(300);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Search.js\nvar Search = __webpack_require__(135);\nvar Search_default = /*#__PURE__*/__webpack_require__.n(Search);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/LibraryAdd.js\nvar LibraryAdd = __webpack_require__(138);\nvar LibraryAdd_default = /*#__PURE__*/__webpack_require__.n(LibraryAdd);\n\n// CONCATENATED MODULE: ./src/components/thread/CreateThread.tsx\n// create thread dialog page\nvar CreateThread_CreateThread=function CreateThread(_ref){var API=_ref.API,openCreateThread=_ref.openCreateThread,handleCloseCreateThread=_ref.handleCloseCreateThread,currentUserState=_ref.currentUserState;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),body=_useState4[0],setBody=_useState4[1];var _useState5=Object(react[\"useState\"])(\"#\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),tagsInput=_useState6[0],setTagsInput=_useState6[1];// tags string directly from user input\nvar _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),tagsArray=_useState8[0],setTagsArray=_useState8[1];// tags parsed into arrays\nvar _useState9=Object(react[\"useState\"])(undefined),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),severity=_useState10[0],setSeverity=_useState10[1];var _useState11=Object(react[\"useState\"])([]),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),message=_useState12[0],setMessage=_useState12[1];var resetCreateThread=function resetCreateThread(){setTitle(\"\");setBody(\"\");setTagsInput(\"\");};// whenver tagsInput string changed by user, update tagsArray\nObject(react[\"useEffect\"])(function(){setTagsArray(strToArray(tagsInput));},[tagsInput]);// on clicking create button, post to backend\nvar handleSubmitCreateThread=function handleSubmitCreateThread(){var user_id=currentUserState.currentUser.id;// array as string equivalent in backend\nvar tags=tagsArray.toString();// reset messages array, before adding error/success messages\nvar new_message=[];// reject empty fields (except tags)\nif(title===\"\"||body===\"\"){new_message.push(\"Fill in all fields\");}if(new_message.length>0){setSeverity('error');setMessage(new_message);}else{fetch(API+\"/thread_pages\",{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title:title,body:body,user_id:user_id,tags:tags})}).then(function(response){if(response.ok){setSeverity('success');new_message.push(\"You have created a new thread!\");setMessage(new_message);// empty fields (prevent duplicate creatiion) and refresh page\nresetCreateThread();setTimeout(function(){return window.location.reload();},1000);}else{setSeverity('error');new_message.push(\"Some error occured\");setMessage(new_message);}}).catch(function(error){return console.log(error.message);});}};// dialog contains title, tags and body text fields, and \"cancel\" and \"create thread\" buttons\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dialog[\"a\" /* default */],{open:openCreateThread,onClose:handleCloseCreateThread,fullWidth:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogTitle[\"a\" /* default */],{children:\"What's on your mind?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogContent[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AlertUser,{severity:severity,message:message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{value:title,autoFocus:true,type:\"text\",margin:\"normal\",label:\"Title\",fullWidth:true,variant:\"standard\",onChange:function onChange(event){return setTitle(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{value:tagsInput,type:\"text\",margin:\"normal\",label:\"Tags\",fullWidth:true,placeholder:\"#HawkerFood #Travel #School\",variant:\"standard\",onChange:function onChange(event){return setTagsInput(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,direction:\"row\",spacing:1,justifyContent:\"flex-start\",alignItems:\"flex-start\",children:tagsArray.length>0&&tagsArray.map(function(tag){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Chip[\"a\" /* default */],{label:tag})});})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{value:body,type:\"text\",margin:\"normal\",label:\"Say something here...\",fullWidth:true,variant:\"standard\",multiline:true,onChange:function onChange(event){return setBody(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogActions[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleCloseCreateThread,children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleSubmitCreateThread,children:\"Create Thread\"})]})]});};/* harmony default export */ var thread_CreateThread = (CreateThread_CreateThread);\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Tag.js\nvar Tag = __webpack_require__(136);\nvar Tag_default = /*#__PURE__*/__webpack_require__.n(Tag);\n\n// CONCATENATED MODULE: ./src/components/SearchBar.tsx\n// Searchbar: search by both title and tags\nvar SearchBar_SearchBar=function SearchBar(_ref){var setThreadResults=_ref.setThreadResults,currentUserState=_ref.currentUserState,API=_ref.API,globalMessageState=_ref.globalMessageState;var handleRedirectToThreadPage=function handleRedirectToThreadPage(threadID){window.location.replace(window.location.protocol+\"//\"+window.location.host+'/thread/'+threadID.toString());};// toggle close/open create thread dialog page\nvar _React$useState=react_default.a.useState(false),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),openCreateThread=_React$useState2[0],setOpenCreateThread=_React$useState2[1];var handleClickOpenCreateThread=function handleClickOpenCreateThread(){// only allow logged in users to create thread\nif(currentUserState.isLoggedIn){setOpenCreateThread(true);}else{globalMessageState.setSeverityGlobalMessage(\"error\");globalMessageState.setGlobalMessage([\"Please login to create thread\"]);globalMessageState.handleOpenGlobalMessage();}};var handleCloseCreateThread=function handleCloseCreateThread(){setOpenCreateThread(false);};var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchByTags=_useState2[0],setSearchByTags=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),results=_useState6[0],setResults=_useState6[1];// On clicking search button, POST to backend and set list of threads to search results\n// Toggle: search by tags pr search by title\nvar handleClickSearch=function handleClickSearch(){if(search===\"\"){return;}else if(searchByTags){var tagsArray=strToArray(search);fetch(API+\"/thread_pages/search/tags\",{method:'POST',mode:'cors',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({tagsArray:tagsArray})}).then(function(res){return res.json();}).then(function(result){setThreadResults(result);});}else{var title=search;fetch(API+\"/thread_pages/search/title\",{method:'POST',mode:'cors',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title:title})}).then(function(res){return res.json();}).then(function(result){setThreadResults(result);});}};// On change in search bar, post to backend, update results in dropdown menu\n// Toggle: dropdown displays tags or titles\nObject(react[\"useEffect\"])(function(){if(search===\"\"){setResults([]);}else if(searchByTags){var tagsArray=strToArray(search);console.log(tagsArray);fetch(API+\"/thread_pages/search/tags/autocomplete\",{method:'POST',mode:'cors',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({tagsArray:tagsArray})}).then(function(res){return res.json();}).then(function(result){setResults(result);});}else{var title=search;fetch(API+\"/thread_pages/search/title/autocomplete\",{method:'POST',mode:'cors',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title:title})}).then(function(res){return res.json();}).then(function(result){setResults(result);});}},[search,searchByTags,API]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{paddingTop:'20px',paddingBottom:'20px',position:'sticky',top:'50px',zIndex:'1100'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Paper[\"a\" /* default */],{component:\"form\",sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputBase[\"a\" /* default */],{sx:{ml:1,flex:1},placeholder:searchByTags?\"Search by Tags: #HawkerFood #Travel # School\":\"Search by Title\",value:search,onChange:function onChange(event){return setSearch(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton_IconButton[\"a\" /* default */],{onClick:handleClickSearch,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Search_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton_IconButton[\"a\" /* default */],{onClick:function onClick(){return setSearchByTags(!searchByTags);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tag_default.a,{color:searchByTags?'primary':\"disabled\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{sx:{height:28,m:0.5},orientation:\"vertical\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton_IconButton[\"a\" /* default */],{onClick:handleClickOpenCreateThread,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LibraryAdd_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thread_CreateThread,{API:API,openCreateThread:openCreateThread,handleCloseCreateThread:handleCloseCreateThread,currentUserState:currentUserState})]}),results.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{sx:{justifyItems:\"flex-start\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stack[\"a\" /* default */],{direction:\"column\",alignItems:\"flex-start\",children:results.map(function(result){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardActionArea[\"a\" /* default */],{style:{paddingTop:3,paddingBottom:3,paddingLeft:8},onClick:function onClick(){return handleRedirectToThreadPage(result.id);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{align:\"left\",children:result.title},result.id)});})})})]});};/* harmony default export */ var components_SearchBar = (SearchBar_SearchBar);\n// CONCATENATED MODULE: ./src/pages/Home.tsx\n// Root path directs to homepage\nvar Home_Home=function Home(_ref){var currentUserState=_ref.currentUserState,API=_ref.API,globalMessageState=_ref.globalMessageState;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),threadResults=_useState2[0],setThreadResults=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isLoaded=_useState6[0],setIsLoaded=_useState6[1];var _useState7=Object(react[\"useState\"])(threadResults),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),threads=_useState8[0],setThreads=_useState8[1];// get json of latest threads from server\nObject(react[\"useEffect\"])(function(){if(threadResults.length>0){setIsLoaded(true);setThreads(threadResults);}else{fetch(API+\"/thread_pages\",{method:'GET',mode:'cors'}).then(function(res){return res.json();}).then(function(result){setIsLoaded(true);setThreads(result);},function(error){setIsLoaded(true);setError(error);});}},[threadResults,API]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{width:'50vw',margin:'auto',textAlign:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h3\",style:{paddingTop:'70px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_react_default.a,{onInit:function onInit(typewriter){typewriter.changeDelay(80).typeString(\"ChitChat\").pauseFor(1000).start();}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SearchBar,{setThreadResults:setThreadResults,currentUserState:currentUserState,API:API,globalMessageState:globalMessageState}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thread_ThreadList,{globalMessageState:globalMessageState,API:API,threads:threads,currentUserState:currentUserState,error:error,isLoaded:isLoaded})]});};/* harmony default export */ var pages_Home = (Home_Home);\n// CONCATENATED MODULE: ./src/types/Thread.tsx\nvar emptyThread={id:0,title:'',body:'',user_id:0,tags:\"\",created_at:'',updated_at:'',comments:[],user:{username:''}};\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(277);\n\n// CONCATENATED MODULE: ./src/components/comment/DeleteComment.tsx\n// Delete comment dialog page\nvar DeleteComment_DeleteComment=function DeleteComment(_ref){var API=_ref.API,openDeleteComment=_ref.openDeleteComment,handleCloseDeleteComment=_ref.handleCloseDeleteComment,comment=_ref.comment;var _useState=Object(react[\"useState\"])(undefined),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),severity=_useState2[0],setSeverity=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),message=_useState4[0],setMessage=_useState4[1];// on clicking delete comment button, delete in backend\nvar handleSubmitDeleteComment=function handleSubmitDeleteComment(){var new_message=[];fetch(API+\"/thread_pages/\"+comment.thread_page_id.toString()+\"/comments/\"+comment.id.toString(),{method:'DELETE',headers:{\"Content-Type\":\"application/json\"}}).then(function(response){if(response.ok){setSeverity('success');new_message.push(\"You have deleted comment!\");setMessage(new_message);// reload page after short delay (prevent user from deleting comment again)\nsetTimeout(function(){return window.location.reload();},1000);}else{setSeverity('error');new_message.push(\"Some error occured\");setMessage(new_message);}}).catch(function(error){return console.log(error.message);});};// dialog contains \"cancel\" and \"delete comment\" buttons\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dialog[\"a\" /* default */],{open:openDeleteComment,onClose:handleCloseDeleteComment,fullWidth:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogTitle[\"a\" /* default */],{children:\"Are you sure you want to delete this comment?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogContent[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AlertUser,{severity:severity,message:message})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogActions[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleCloseDeleteComment,children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleSubmitDeleteComment,children:\"Delete Comment\"})]})]});};/* harmony default export */ var comment_DeleteComment = (DeleteComment_DeleteComment);\n// CONCATENATED MODULE: ./src/components/comment/UpdateComment.tsx\n// Edit comment dialog (visible by creator and when creator is logged in)\nvar UpdateComment_UpdateComment=function UpdateComment(_ref){var API=_ref.API,openUpdateComment=_ref.openUpdateComment,handleCloseUpdateComment=_ref.handleCloseUpdateComment,comment=_ref.comment;var _useState=Object(react[\"useState\"])(comment.body),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),body=_useState2[0],setBody=_useState2[1];var _useState3=Object(react[\"useState\"])(undefined),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),severity=_useState4[0],setSeverity=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var resetUpdateComment=function resetUpdateComment(){setBody(\"\");};// On clicking \"edit comment\" button, patch changes to backend\nvar handleSubmitUpdateComment=function handleSubmitUpdateComment(){// Empty message array, before adding error/success messages\nvar new_message=[];// Reject empty fields\nif(body===\"\"){new_message.push(\"Fill in all fields\");}if(new_message.length>0){setSeverity('error');setMessage(new_message);}else{fetch(API+\"/thread_pages/\"+comment.thread_page_id+\"/comments/\"+comment.id,{method:'PATCH',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({body:body})}).then(function(response){if(response.ok){setSeverity('success');new_message.push(\"Changes saved!\");setMessage(new_message);// Empty all fields (prevent resubmissions) and refresh page\nresetUpdateComment();setTimeout(function(){return window.location.reload();},1000);}else{setSeverity('error');new_message.push(\"Some error occured\");setMessage(new_message);}}).catch(function(error){return console.log(error.message);});}};// Dialog page contains \"body\" text field, and \"cancel\" and \"edit comment\" (submit changes) buttons\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dialog[\"a\" /* default */],{open:openUpdateComment,onClose:handleCloseUpdateComment,fullWidth:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogTitle[\"a\" /* default */],{children:\"What's on your mind?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogContent[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AlertUser,{severity:severity,message:message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{value:body,type:\"text\",margin:\"normal\",label:\"Say something here...\",fullWidth:true,variant:\"standard\",multiline:true,onChange:function onChange(event){return setBody(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogActions[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleCloseUpdateComment,children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleSubmitUpdateComment,children:\"Save Changes\"})]})]});};/* harmony default export */ var comment_UpdateComment = (UpdateComment_UpdateComment);\n// CONCATENATED MODULE: ./src/components/comment/DeleteEditOnComment.tsx\n// Row of delete and edit buttons on comment card\nvar DeleteEditOnComment_DeleteEditOnComment=function DeleteEditOnComment(_ref){var API=_ref.API,comment=_ref.comment,currentUserState=_ref.currentUserState;// toggle delete dialog page\nvar _React$useState=react_default.a.useState(false),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),openDeleteComment=_React$useState2[0],setOpenDeleteComment=_React$useState2[1];var handleClickOpenDeleteComment=function handleClickOpenDeleteComment(){setOpenDeleteComment(true);};var handleCloseDeleteComment=function handleCloseDeleteComment(){setOpenDeleteComment(false);};// toggle update / edit commetn page\nvar _React$useState3=react_default.a.useState(false),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),openUpdateComment=_React$useState4[0],setOpenUpdateComment=_React$useState4[1];var handleClickOpenUpdateComment=function handleClickOpenUpdateComment(){setOpenUpdateComment(true);};var handleCloseUpdateComment=function handleCloseUpdateComment(){setOpenUpdateComment(false);};// display edit and comment buttons only for creators that are logged in\n// open edit/delete dialog pages on clicking edit/delete buttons respectively\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Stack[\"a\" /* default */],{direction:\"row\",justifyContent:\"flex-end\",alignItems:\"center\",spacing:1,children:[comment.user_id===currentUserState.currentUser.id&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleClickOpenUpdateComment,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Edit_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(comment_UpdateComment,{API:API,comment:comment,openUpdateComment:openUpdateComment,handleCloseUpdateComment:handleCloseUpdateComment})]}),comment.user_id===currentUserState.currentUser.id&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{onClick:handleClickOpenDeleteComment,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Delete_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(comment_DeleteComment,{API:API,comment:comment,openDeleteComment:openDeleteComment,handleCloseDeleteComment:handleCloseDeleteComment})]})]});};/* harmony default export */ var comment_DeleteEditOnComment = (DeleteEditOnComment_DeleteEditOnComment);\n// CONCATENATED MODULE: ./src/components/comment/CommentItem.tsx\nvar useStyles=Object(makeStyles[\"a\" /* default */])({commentBody:{fontSize:16,whiteSpace:'pre-wrap',paddingBottom:'1em'},commentCard:{marginBottom:'1em'},metadata:{fontSize:14}});// comment card\nvar CommentItem_CommentItem=function CommentItem(_ref){var API=_ref.API,comment=_ref.comment,currentUserState=_ref.currentUserState;var classes=useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */],{className:classes.commentCard,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardContent[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Stack[\"a\" /* default */],{direction:\"column\",spacing:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AvatarUserTimeTags,{tagged:false,user:comment.user.username,time:new Date(comment.created_at),tags:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_BodyAddHTML,{body:comment.body,toOverflow:false}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(comment_DeleteEditOnComment,{API:API,comment:comment,currentUserState:currentUserState})]})})});};/* harmony default export */ var comment_CommentItem = (CommentItem_CommentItem);\n// CONCATENATED MODULE: ./src/components/comment/CommentList.tsx\n// series of comments: each comment is a card displaying body text, edit and delete buttons, user and date and time\nvar CommentList_CommentList=function CommentList(_ref){var API=_ref.API,comments=_ref.comments,currentUserState=_ref.currentUserState;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:comments.map(function(comment){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(comment_CommentItem,{API:API,comment:comment,currentUserState:currentUserState},comment.id);})});};/* harmony default export */ var comment_CommentList = (CommentList_CommentList);\n// CONCATENATED MODULE: ./src/components/thread/ThreadView.tsx\n// Page displaying individual thread and associated comments\nvar ThreadView_ThreadView=function ThreadView(_ref){var threadID=_ref.threadID,currentUserState=_ref.currentUserState,API=_ref.API,globalMessageState=_ref.globalMessageState;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isLoaded=_useState4[0],setIsLoaded=_useState4[1];var _useState5=Object(react[\"useState\"])(emptyThread),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),thread=_useState6[0],setThread=_useState6[1];// Fetch thread and associated comments when page loaded\nObject(react[\"useEffect\"])(function(){fetch(API+\"/thread_pages/\"+threadID,{method:'GET',mode:'cors'}).then(function(res){return res.json();}).then(function(result){setIsLoaded(true);setThread(result);},// Note: it's important to handle errors here\n// instead of a catch() block so that we don't swallow\n// exceptions from actual bugs in components.\nfunction(error){setIsLoaded(true);setError(error);});},[threadID,API]);// Display \"loading\" until response from backend, then display error or threads and comments\nif(error){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Error: \",error.message]});}else if(!isLoaded){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Loading...\"});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ThreadMainPost,{globalMessageState:globalMessageState,API:API,toOverflow:false,thread:thread,currentUserState:currentUserState},thread.id),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(comment_CommentList,{API:API,comments:thread.comments,currentUserState:currentUserState})]});}};/* harmony default export */ var thread_ThreadView = (ThreadView_ThreadView);\n// EXTERNAL MODULE: ./node_modules/react-router/index.js\nvar react_router = __webpack_require__(17);\n\n// CONCATENATED MODULE: ./src/pages/ThreadPage.tsx\nvar ThreadPage_ThreadPage=function ThreadPage(_ref){var currentUserState=_ref.currentUserState,API=_ref.API,globalMessageState=_ref.globalMessageState;var _useParams=Object(react_router[\"g\" /* useParams */])(),threadID=_useParams.threadID;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{width:'50vw',margin:'auto',textAlign:'center',paddingTop:\"30px\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thread_ThreadView,{globalMessageState:globalMessageState,threadID:threadID,currentUserState:currentUserState,API:API})});};/* harmony default export */ var pages_ThreadPage = (ThreadPage_ThreadPage);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/index.js + 1 modules\nvar react_router_dom = __webpack_require__(111);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/styles/createTheme.js + 14 modules\nvar createTheme = __webpack_require__(141);\n\n// EXTERNAL MODULE: ./node_modules/@mui/system/esm/ThemeProvider/ThemeProvider.js + 3 modules\nvar ThemeProvider = __webpack_require__(293);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Box/Box.js + 15 modules\nvar Box = __webpack_require__(285);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/AppBar/AppBar.js\nvar AppBar = __webpack_require__(280);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Container/Container.js\nvar Container = __webpack_require__(281);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Toolbar/Toolbar.js\nvar Toolbar = __webpack_require__(282);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Tooltip/Tooltip.js + 2 modules\nvar Tooltip = __webpack_require__(296);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Avatar/Avatar.js + 1 modules\nvar Avatar_Avatar = __webpack_require__(301);\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Forum.js\nvar Forum = __webpack_require__(139);\nvar Forum_default = /*#__PURE__*/__webpack_require__.n(Forum);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Menu/Menu.js + 25 modules\nvar Menu = __webpack_require__(284);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/MenuItem/MenuItem.js + 3 modules\nvar MenuItem = __webpack_require__(292);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/DialogContentText/DialogContentText.js\nvar DialogContentText = __webpack_require__(278);\n\n// CONCATENATED MODULE: ./src/components/account/LogIn.tsx\n// Login dialog page\nvar LogIn_LogIn=function LogIn(_ref){var API=_ref.API,openLogIn=_ref.openLogIn,handleCloseLogIn=_ref.handleCloseLogIn,currentUserState=_ref.currentUserState,globalMessageState=_ref.globalMessageState;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=Object(react[\"useState\"])('success'),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),severity=_useState6[0],setSeverity=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var resetLogIn=function resetLogIn(){setUsername(\"\");setPassword(\"\");};// On clicking login button, post to backend, authenticate and cache user information / token\nvar handleSubmitLogIn=function handleSubmitLogIn(){var new_message=[];fetch(API+\"/login\",{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:username,password:password})}).then(function(response){return response.json();}).then(function(data){if(data.error){setSeverity('error');data.error.map(function(error){return new_message.push(error);});setMessage(new_message);}else{currentUserState.setCurrentUser(data.user);localStorage.setItem(\"token\",data.token);setSeverity('success');new_message.push(\"Logged in successfully!\");setMessage(new_message);// empty fields to prevent relogin, then reload page\nresetLogIn();setTimeout(function(){return window.location.reload();},1000);}}).catch(function(error){return console.log(error.message);});};// dialog page contains username and password fields, and \"close\" and \"login\" buttons\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dialog[\"a\" /* default */],{open:openLogIn,onClose:handleCloseLogIn,fullWidth:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogTitle[\"a\" /* default */],{children:\"Welcome Back!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogContent[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogContentText[\"a\" /* default */],{children:\"Log in to create threads, comment and more...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogContentText[\"a\" /* default */],{children:\"Dont have an account? Create one to do much more!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AlertUser,{severity:severity,message:message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{autoFocus:true,value:username,type:\"text\",margin:\"normal\",label:\"Username\",fullWidth:true,variant:\"outlined\",onChange:function onChange(event){return setUsername(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{value:password,type:\"password\",margin:\"normal\",label:\"Password\",fullWidth:true,variant:\"outlined\",onChange:function onChange(event){return setPassword(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogActions[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleCloseLogIn,children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleSubmitLogIn,children:\"Log In\"})]})]});};/* harmony default export */ var account_LogIn = (LogIn_LogIn);\n// CONCATENATED MODULE: ./src/components/account/CreateAccount.tsx\n// create account dialog pagae\nvar CreateAccount_CreateAccount=function CreateAccount(_ref){var API=_ref.API,openCreateAccount=_ref.openCreateAccount,handleCloseCreateAccount=_ref.handleCloseCreateAccount;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),password_confirmation=_useState6[0],setPassword_confirmation=_useState6[1];var _useState7=Object(react[\"useState\"])(undefined),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),severity=_useState8[0],setSeverity=_useState8[1];var _useState9=Object(react[\"useState\"])([]),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),message=_useState10[0],setMessage=_useState10[1];var resetCreateAccount=function resetCreateAccount(){setUsername(\"\");setPassword(\"\");setPassword_confirmation(\"\");};// on clicking \"create account\" button, post to backend\nvar handleSubmitCreateAccount=function handleSubmitCreateAccount(){var new_message=[];// reset messsage array\nfetch(API+\"/users\",{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:username,password:password,password_confirmation:password_confirmation})}).then(function(response){if(response.ok){setSeverity('success');new_message.push(\"Account created successfully. Log in to do more!\");setMessage(new_message);// empty fields (prevent clicking create account again, although backend ensures unique username)\nresetCreateAccount();setTimeout(function(){return window.location.reload();},1000);// refresh page\n}return response.json();}).then(function(data){if(data.error){setSeverity('error');data.error.map(function(error){return new_message.push(error);});setMessage(new_message);}}).catch(function(error){return console.log(error.message);});};// dialog contains username, password and password confirmation fields, and \"cancel\" and \"create account\" buttons\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dialog[\"a\" /* default */],{open:openCreateAccount,onClose:handleCloseCreateAccount,fullWidth:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogTitle[\"a\" /* default */],{children:\"Join the ChitChat Community!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogContent[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogContentText[\"a\" /* default */],{children:\"Dont have an account? Create one to create threads, comment and more...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AlertUser,{severity:severity,message:message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{autoFocus:true,value:username,type:\"text\",margin:\"normal\",label:\"Username\",fullWidth:true,variant:\"outlined\",onChange:function onChange(event){return setUsername(event.target.value.trim());}// whitespaces disallowed in username field\n}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{value:password,type:\"password\",margin:\"normal\",label:\"Password\",fullWidth:true,variant:\"outlined\",onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{value:password_confirmation,type:\"password\",margin:\"normal\",label:\"Confirm Password\",fullWidth:true,variant:\"outlined\",onChange:function onChange(event){return setPassword_confirmation(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogActions[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleCloseCreateAccount,children:\"Close\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleSubmitCreateAccount,children:\"Create Account\"})]})]});};/* harmony default export */ var account_CreateAccount = (CreateAccount_CreateAccount);\n// CONCATENATED MODULE: ./src/components/account/ChangePassword.tsx\nvar ChangePassword_ChangePassword=function ChangePassword(_ref){var API=_ref.API,openChangePassword=_ref.openChangePassword,handleCloseChangePassword=_ref.handleCloseChangePassword,currentUserState=_ref.currentUserState;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),newPassword=_useState2[0],setNewPassword=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),newPasswordConfirmation=_useState4[0],setNewPasswordConfirmation=_useState4[1];var _useState5=Object(react[\"useState\"])(undefined),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),severity=_useState6[0],setSeverity=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var resetChangePassword=function resetChangePassword(){setNewPassword(\"\");setNewPasswordConfirmation(\"\");};// on clicking \"change password\" button, patch changes to backend\nvar handleSubmitChangePassword=function handleSubmitChangePassword(){var password=newPassword;var password_confirmation=newPasswordConfirmation;var new_message=[];fetch(API+\"/users/\"+currentUserState.currentUser.id,{method:'PATCH',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:password,password_confirmation:password_confirmation})}).then(function(response){if(response.ok){setSeverity('success');new_message.push(\"Password Changed!\");setMessage(new_message);// empty fieds (prevent user from repeatedly chaning password again)\nresetChangePassword();// refresh page\nsetTimeout(function(){return window.location.reload();},1000);}return response.json();}).then(function(data){if(data.error){setSeverity('error');data.error.map(function(error){return new_message.push(error);});setMessage(new_message);}}).catch(function(error){return console.log(error.message);});// }\n};// dialog contains password and password confirmation fields, and \"close\" and \"change password\" buttons\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dialog[\"a\" /* default */],{open:openChangePassword,onClose:handleCloseChangePassword,fullWidth:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DialogTitle[\"a\" /* default */],{children:\"Change Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogContent[\"a\" /* default */],{children:[\"display success/error messages\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AlertUser,{severity:severity,message:message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{value:newPassword,type:\"password\",margin:\"normal\",label:\"Password\",fullWidth:true,variant:\"outlined\",onChange:function onChange(event){return setNewPassword(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{value:newPasswordConfirmation,type:\"password\",margin:\"normal\",label:\"Confirm Password\",fullWidth:true,variant:\"outlined\",onChange:function onChange(event){return setNewPasswordConfirmation(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DialogActions[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleCloseChangePassword,children:\"Close\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleSubmitChangePassword,children:\"Change Password\"})]})]});};/* harmony default export */ var account_ChangePassword = (ChangePassword_ChangePassword);\n// CONCATENATED MODULE: ./src/components/account/AccountSettings.tsx\n// Sourced Menu component from https://mui.com/material-ui/react-menu/#main-content and modified for use\n// account settings button with dropdown menu containing more settings\nvar AccountSettings_AccountSettings=function AccountSettings(_ref){var API=_ref.API,anchorElAccountSettings=_ref.anchorElAccountSettings,openAccountSettings=_ref.openAccountSettings,handleCloseAccountSettings=_ref.handleCloseAccountSettings,currentUserState=_ref.currentUserState,globalMessageState=_ref.globalMessageState;// toggle close/open login dialog page\nvar _React$useState=react[\"useState\"](false),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),openLogIn=_React$useState2[0],setOpenLogIn=_React$useState2[1];var handleClickOpenLogIn=function handleClickOpenLogIn(){setOpenLogIn(true);};var handleCloseLogIn=function handleCloseLogIn(){setOpenLogIn(false);};// toggle close/open create account dialog page\nvar _React$useState3=react[\"useState\"](false),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),openCreateAccount=_React$useState4[0],setOpenCreateAccount=_React$useState4[1];var handleClickOpenCreateAccount=function handleClickOpenCreateAccount(){setOpenCreateAccount(true);};var handleCloseCreateAccount=function handleCloseCreateAccount(){setOpenCreateAccount(false);};// toggle close/open change password dialog page\nvar _React$useState5=react[\"useState\"](false),_React$useState6=Object(slicedToArray[\"a\" /* default */])(_React$useState5,2),openChangePassword=_React$useState6[0],setOpenChangePassword=_React$useState6[1];var handleClickOpenChangePassword=function handleClickOpenChangePassword(){setOpenChangePassword(true);};var handleCloseChangePassword=function handleCloseChangePassword(){setOpenChangePassword(false);};// when logout, forget user cache: user info and jwt token\nvar handleLogOut=function handleLogOut(){currentUserState.setCurrentUser(currentUserState.emptyCurrentUser);localStorage.removeItem(\"token\");window.location.reload();// refresh page to update without any user logged in\n};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:currentUserState.isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */],{id:\"account-settings\",anchorEl:anchorElAccountSettings,open:openAccountSettings,onClose:handleCloseAccountSettings,MenuListProps:{'aria-labelledby':'basic-button'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{onClick:handleClickOpenChangePassword,children:\"Change Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(account_ChangePassword,{API:API,openChangePassword:openChangePassword,handleCloseChangePassword:handleCloseChangePassword,currentUserState:currentUserState}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{onClick:handleLogOut,children:\"Log Out\"})]}):/*#__PURE__*/ // else if user not logged in, display create account and login in dropdown menu\nObject(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */],{id:\"account-settings\",anchorEl:anchorElAccountSettings,open:openAccountSettings,onClose:handleCloseAccountSettings,MenuListProps:{'aria-labelledby':'basic-button'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{onClick:handleClickOpenLogIn,children:\"Log In\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(account_LogIn,{API:API,openLogIn:openLogIn,handleCloseLogIn:handleCloseLogIn,currentUserState:currentUserState,globalMessageState:globalMessageState}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{onClick:handleClickOpenCreateAccount,children:\"Create Account\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(account_CreateAccount,{API:API,openCreateAccount:openCreateAccount,handleCloseCreateAccount:handleCloseCreateAccount})]})});};/* harmony default export */ var account_AccountSettings = (AccountSettings_AccountSettings);\n// CONCATENATED MODULE: ./src/components/NavBar.tsx\n// Navigation bar menu: contains home button, my threads button and account settings dropdown menu (accessible on all pages)\nvar NavBar_NavBar=function NavBar(_ref){var API=_ref.API,currentUserState=_ref.currentUserState,globalMessageState=_ref.globalMessageState;// Anchor settings menu (dropdown menu: contains log in, log out and creaete account buttons)\nvar _React$useState=react_default.a.useState(null),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),anchorElAccountSettings=_React$useState2[0],setAnchorElAccountSettings=_React$useState2[1];var openAccountSettings=Boolean(anchorElAccountSettings);var handleClickAccountSettings=function handleClickAccountSettings(event){setAnchorElAccountSettings(event.currentTarget);};var handleCloseAccountSettings=function handleCloseAccountSettings(){setAnchorElAccountSettings(null);};// Other buttons on navbar that redirect to other pages (other than \"home\" and \"account settings\" buttons)\nvar myThreads={pageName:\"MyThreads\",href:\"/mythreads\"};var pages=[myThreads];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */],{marginBottom:'70px',children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AppBar[\"a\" /* default */],{position:\"fixed\",style:{zIndex:'1200'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{maxWidth:\"xl\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Toolbar[\"a\" /* default */],{disableGutters:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{flexGrow:1,display:\"flex\",alignItems:'center',children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Forum_default.a,{sx:{mr:1}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h6\",component:\"a\",href:\"/\",style:{color:'inherit',textDecoration:'none',marginRight:'40px'},children:\"ChitChat\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stack[\"a\" /* default */],{direction:\"row\",children:currentUserState.isLoggedIn&&pages.map(function(page){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardActionArea[\"a\" /* default */],{style:{padding:'10px',borderRadius:'10px'},href:page.href,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{children:page.pageName})},page.pageName);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tooltip[\"a\" /* default */],{title:\"Account Settings\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{id:\"basic-button\",\"aria-controls\":openAccountSettings?'account-settings':undefined,\"aria-haspopup\":\"true\",\"aria-expanded\":openAccountSettings?'true':undefined,onClick:handleClickAccountSettings,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar_Avatar[\"a\" /* default */],{})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(account_AccountSettings,{API:API,anchorElAccountSettings:anchorElAccountSettings,openAccountSettings:openAccountSettings,handleCloseAccountSettings:handleCloseAccountSettings,currentUserState:currentUserState,globalMessageState:globalMessageState})]})})})});};/* harmony default export */ var components_NavBar = (NavBar_NavBar);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Snackbar/Snackbar.js + 4 modules\nvar Snackbar = __webpack_require__(289);\n\n// CONCATENATED MODULE: ./src/components/GlobalMessage.tsx\n// display global message to whatever page cureent user is viewing from (message on bottom left corner and lasts 6 seconds)\nvar GlobalMessage_GlobalMessage=function GlobalMessage(_ref){var globalMessage=_ref.globalMessage,severityGlobalMessage=_ref.severityGlobalMessage,handleCloseGlobalMessage=_ref.handleCloseGlobalMessage,openGlobalMessage=_ref.openGlobalMessage;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stack[\"a\" /* default */],{spacing:2,children:globalMessage.map(function(message){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Snackbar[\"a\" /* default */],{open:openGlobalMessage,autoHideDuration:6000,onClose:handleCloseGlobalMessage,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{onClose:handleCloseGlobalMessage,severity:severityGlobalMessage,sx:{width:'100%'},children:message})});})});};/* harmony default export */ var components_GlobalMessage = (GlobalMessage_GlobalMessage);\n// CONCATENATED MODULE: ./src/pages/MyThreads.tsx\n// MyThreads page: display threads created by current user (must be logged in)\nvar MyThreads_MyThreads=function MyThreads(_ref){var currentUserState=_ref.currentUserState,API=_ref.API,globalMessageState=_ref.globalMessageState;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isLoaded=_useState4[0],setIsLoaded=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),threads=_useState6[0],setThreads=_useState6[1];// If current user is logged in, fetch user's created threads\nObject(react[\"useEffect\"])(function(){if(currentUserState.isLoggedIn){fetch(API+\"/mythreads/\"+currentUserState.currentUser.id,{method:'GET',mode:'cors'}).then(function(res){return res.json();}).then(function(result){setIsLoaded(true);setThreads(result);},function(error){setIsLoaded(true);setError(error);});}},[currentUserState.isLoggedIn,currentUserState.currentUser.id,API]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{width:'50vw',margin:'auto',textAlign:'center',paddingTop:'30px'},children:threads.length===0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h6\",children:\"Opps! Looking empty... Go ahead and create your first thread!\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thread_ThreadList,{globalMessageState:globalMessageState,API:API,threads:threads,error:error,isLoaded:isLoaded,currentUserState:currentUserState})});};/* harmony default export */ var pages_MyThreads = (MyThreads_MyThreads);\n// CONCATENATED MODULE: ./src/App.tsx\nvar App_API=\"https://chitchat-4uee.onrender.com/\";var theme=Object(createTheme[\"a\" /* default */])({palette:{primary:{light:'#757ce8',main:'#3f50b5',dark:'#002884',contrastText:'#fff'},secondary:{light:'#ff7961',main:'#f44336',dark:'#ba000d',contrastText:'#000'}}});var App_App=function App(){// Global Message: to display messages at user's current page location\nvar _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),globalMessage=_useState2[0],setGlobalMessage=_useState2[1];var _useState3=Object(react[\"useState\"])(undefined),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),severityGlobalMessage=_useState4[0],setSeverityGlobalMessage=_useState4[1];var _useState5=Object(react[\"useState\"])(true),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),openGlobalMessage=_useState6[0],setOpenGlobalMessage=_useState6[1];var handleCloseGlobalMessage=function handleCloseGlobalMessage(){setOpenGlobalMessage(false);setSeverityGlobalMessage(undefined);setGlobalMessage([]);};var handleOpenGlobalMessage=function handleOpenGlobalMessage(){setOpenGlobalMessage(true);};var globalMessageState={setGlobalMessage:setGlobalMessage,setSeverityGlobalMessage:setSeverityGlobalMessage,handleOpenGlobalMessage:handleOpenGlobalMessage};// Current User: cache user login information\nvar emptyCurrentUser={id:0,username:\"\",password_digest:\"\",created_at:\"\",updated_at:\"\"};var _useState7=Object(react[\"useState\"])(emptyCurrentUser),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),currentUser=_useState8[0],setCurrentUser=_useState8[1];var currentUserState={currentUser:currentUser,setCurrentUser:setCurrentUser,emptyCurrentUser:emptyCurrentUser,isLoggedIn:currentUser.id!==0};// Checks with backend that user is logged in whenver page is loaded\nObject(react[\"useEffect\"])(function(){var new_message=[];var token=localStorage.getItem(\"token\");if(token){fetch(App_API+\"/login\",{method:\"GET\",headers:{Authorization:\"\".concat(token)}}).then(function(response){return response.json();}).then(function(data){if(data.error){setSeverityGlobalMessage('error');data.error.map(function(error){return new_message.push(error);});setGlobalMessage(new_message);}else{setCurrentUser(data);}});}},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ThemeProvider[\"a\" /* default */],{theme:theme,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_NavBar,{API:App_API,currentUserState:currentUserState,globalMessageState:globalMessageState}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_GlobalMessage,{globalMessage:globalMessage,severityGlobalMessage:severityGlobalMessage,openGlobalMessage:openGlobalMessage,handleCloseGlobalMessage:handleCloseGlobalMessage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/thread/:threadID\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_ThreadPage,{globalMessageState:globalMessageState,currentUserState:currentUserState,API:App_API})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Home,{globalMessageState:globalMessageState,currentUserState:currentUserState,API:App_API})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/mythreads\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_MyThreads,{globalMessageState:globalMessageState,currentUserState:currentUserState,API:App_API})})]})})]})});};/* harmony default export */ var src_App_0 = (App_App);\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(21);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(191);\n\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[192,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/node_modules/postcss-loader/src/index.js??postcss!/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/App.css","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/node_modules/postcss-loader/src/index.js??postcss!/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/index.css","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/AvatarUserTimeTags.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/AlertUser.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/comment/CreateComment.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/thread/DeleteThread.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/actions/actions.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/thread/UpdateThread.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/thread/DeleteEditCommentOnThread.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/BodyAddHTML.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/thread/ThreadMainPost.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/thread/ThreadList.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/thread/CreateThread.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/SearchBar.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/pages/Home.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/types/Thread.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/comment/DeleteComment.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/comment/UpdateComment.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/comment/DeleteEditOnComment.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/comment/CommentItem.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/comment/CommentList.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/thread/ThreadView.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/pages/ThreadPage.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/account/LogIn.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/account/CreateAccount.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/account/ChangePassword.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/account/AccountSettings.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/NavBar.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/components/GlobalMessage.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/pages/MyThreads.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/App.tsx","/Users/solomonng/dev/cvwo-rails-react-app/cvwo-react-app-2022/src/index.tsx"],"names":["AvatarUserTimeTags","tagged","user","time","tags","tagsArray","split","moment","fromNow","map","tag","AlertUser","severity","message","error","CreateComment","API","openCreateComment","handleCloseCreateComment","thread_page_id","currentUserState","useState","body","setBody","undefined","setSeverity","setMessage","resetCreateComment","handleSubmitCreateComment","user_id","currentUser","id","new_message","push","length","fetch","toString","method","headers","JSON","stringify","then","response","ok","setTimeout","window","location","reload","catch","console","log","event","target","value","DeleteThread","openDeleteThread","handleCloseDeleteThread","handleSubmitDeleteThread","url","href","startsWith","protocol","host","replace","strToArray","str","toLowerCase","filter","arrayStrToStr","arrayStr","join","UpdateThread","openUpdateThread","handleCloseUpdateThread","thread","title","setTitle","tagsInput","setTagsInput","setTagsArray","resetUpdateThread","useEffect","handleSubmitUpdateThread","DeleteEditCommentOnThread","globalMessageState","React","setOpenCreateComment","handleClickOpenCreateComment","isLoggedIn","setSeverityGlobalMessage","setGlobalMessage","handleOpenGlobalMessage","setOpenDeleteThread","handleClickOpenDeleteThread","setOpenUpdateThread","handleClickOpenUpdateThread","BodyAddHTML","toOverflow","body_array","ele","line","index","body_elipsis","ThreadPost","padding","username","Date","created_at","ThreadList","threads","isLoaded","width","margin","textAlign","CreateThread","openCreateThread","handleCloseCreateThread","resetCreateThread","handleSubmitCreateThread","SearchBar","setThreadResults","handleRedirectToThreadPage","threadID","setOpenCreateThread","handleClickOpenCreateThread","searchByTags","setSearchByTags","search","setSearch","results","setResults","handleClickSearch","mode","res","json","result","paddingTop","paddingBottom","position","top","zIndex","display","alignItems","ml","flex","height","m","justifyItems","paddingLeft","Home","threadResults","setError","setIsLoaded","setThreads","typewriter","changeDelay","typeString","pauseFor","start","emptyThread","updated_at","comments","DeleteComment","openDeleteComment","handleCloseDeleteComment","comment","handleSubmitDeleteComment","UpdateComment","openUpdateComment","handleCloseUpdateComment","resetUpdateComment","handleSubmitUpdateComment","DeleteEditOnComment","setOpenDeleteComment","handleClickOpenDeleteComment","setOpenUpdateComment","handleClickOpenUpdateComment","useStyles","makeStyles","commentBody","fontSize","whiteSpace","commentCard","marginBottom","metadata","CommentItem","classes","CommentList","ThreadView","setThread","ThreadPage","useParams","LogIn","openLogIn","handleCloseLogIn","setUsername","password","setPassword","resetLogIn","handleSubmitLogIn","data","setCurrentUser","localStorage","setItem","token","CreateAccount","openCreateAccount","handleCloseCreateAccount","password_confirmation","setPassword_confirmation","resetCreateAccount","handleSubmitCreateAccount","trim","ChangePassword","openChangePassword","handleCloseChangePassword","newPassword","setNewPassword","newPasswordConfirmation","setNewPasswordConfirmation","resetChangePassword","handleSubmitChangePassword","AccountSettings","anchorElAccountSettings","openAccountSettings","handleCloseAccountSettings","setOpenLogIn","handleClickOpenLogIn","setOpenCreateAccount","handleClickOpenCreateAccount","setOpenChangePassword","handleClickOpenChangePassword","handleLogOut","emptyCurrentUser","removeItem","NavBar","setAnchorElAccountSettings","Boolean","handleClickAccountSettings","currentTarget","myThreads","pageName","pages","mr","color","textDecoration","marginRight","page","borderRadius","GlobalMessage","globalMessage","severityGlobalMessage","handleCloseGlobalMessage","openGlobalMessage","MyThreads","theme","createTheme","palette","primary","light","main","dark","contrastText","secondary","App","setOpenGlobalMessage","password_digest","getItem","Authorization","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from 'react';\nimport { Grid, Chip, Typography } from '@material-ui/core';\nimport Avatar from '@mui/material/Avatar';\nimport moment from 'moment';\nimport Stack from '@mui/material/Stack';\n\ntype Props = {\n    tagged: boolean;\n    user: string;\n    time: Date;\n    tags: string;\n};\n\n// layout of user avatar, username, datae and time, and tags\nconst AvatarUserTimeTags: React.FC<Props> = ({ tagged, user, time, tags }: Props) => {\n\n    // if tags to be displayed (for threads)\n    if (tagged) {\n        // empty array if tags is empty (so that tags array will not display empty chip)\n        const tagsArray = tags === \"\" ? [] : tags.split(\",\");\n        return (\n            <Grid container>\n                <Grid item xs={6}>\n                    <Stack direction='row' spacing={2}>\n                        <Avatar/>\n                        <Stack direction='column'>\n                            <Typography align='left' variant='h5'>{ user }</Typography>\n                            <Typography align='left' variant='subtitle1' color='textSecondary'>{moment(time).fromNow()}</Typography>\n                        </Stack>\n                    </Stack>\n                </Grid>\n                <Grid item container xs={6} direction='row' spacing={1} justifyContent='flex-end' alignItems='flex-start'>\n                    { tagsArray.map(tag =>\n                        <Grid item key={tag}>\n                            <Chip label={tag} />\n                        </Grid>\n                    )}\n                </Grid>\n            </Grid>\n        );\n    }\n\n    // Without tags (for comments)\n    return (\n        <Grid container>\n            <Grid item xs={6}>\n                <Stack direction='row' spacing={2}>\n                    <Avatar/>\n                    <Stack direction='column'>\n                        <Typography align='left' variant='h5'>{ user }</Typography>\n                        <Typography align='left' variant='subtitle1' color='textSecondary'>{moment(time).fromNow()}</Typography>\n                    </Stack>\n                </Stack>\n            </Grid>\n            <Grid item xs={6}>\n            </Grid>\n        </Grid>\n    );\n};\n\nexport default AvatarUserTimeTags;","import Alert, { AlertColor } from '@mui/material/Alert';\n\nimport React from 'react';\n\ntype Props = {\n    severity: AlertColor | undefined;\n    message: string[];\n}\n\n// display success/error messages to user from array of messages (displayed in dialog pages, different from global messages)\nconst AlertUser: React.FC<Props> = ({severity, message}: Props) => {\n    return (\n        <>\n            { message.map(error =>\n                <Alert severity={severity}>{error}</Alert>)  \n            }\n        </>\n    );\n};\n\nexport default AlertUser;","import { Button, TextField, Dialog, DialogActions, DialogContent, \n    DialogTitle } from '@material-ui/core';\nimport AlertUser from '../AlertUser';\nimport { AlertColor } from '@mui/material/Alert';\nimport CurrentUserState from '../../types/CurrentUserState';\n\nimport React, { useState } from 'react';\n\ntype Props = {\n    openCreateComment: boolean;\n    handleCloseCreateComment: () => void;\n    thread_page_id: number;\n    currentUserState: CurrentUserState;\n    API: string;\n}\n\n// create comment dialog page\nconst CreateComment: React.FC<Props> = ({API, openCreateComment, handleCloseCreateComment, thread_page_id, currentUserState}: Props) => {\n    const [body, setBody] = useState<string>(\"\");\n    const [severity, setSeverity] = useState<AlertColor | undefined>(undefined);\n    const [message, setMessage] = useState<string[]>([]);\n\n    const resetCreateComment = () => {\n        setBody(\"\");\n    }\n    \n    // on clicking create button, post to backend\n    const handleSubmitCreateComment = () => {\n        const user_id = currentUserState.currentUser.id\n        // reset message array, before adding messages\n        let new_message: string[] = []; \n        // reject empty fields\n        if (body === \"\") {\n            new_message.push(\"Fill in all fields\");\n        }\n        if (new_message.length > 0) {\n            setSeverity('error');\n            setMessage(new_message);\n        } else {\n            fetch(API + \"/thread_pages/\" + thread_page_id.toString() + \"/comments\", {\n                method: 'POST',\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                  },\n                body: JSON.stringify({\n                    body,\n                    user_id,\n                    thread_page_id,\n                }),\n            })\n                .then((response) => {\n                    if (response.ok) {\n                        setSeverity('success');\n                        new_message.push(\"You have created a new comment!\")\n                        setMessage(new_message);\n                        // empty fields (prevent creation of duplicate comments) and refresh page\n                        resetCreateComment();\n                        setTimeout(() => window.location.reload(), 1000);\n                    } else {\n                        setSeverity('error');\n                        new_message.push(\"Some error occured\");\n                        setMessage(new_message);\n                    }\n                })\n                .catch((error) => console.log(error.message));\n        }\n    }\n\n    // dialog containing body text, and \"close\" and \"create comment\" buttons\n    return (\n        <Dialog open={openCreateComment} onClose={handleCloseCreateComment} fullWidth>\n            <DialogTitle>What's on your mind?</DialogTitle>\n            <DialogContent>\n                {/* display success/error messages */}\n                <AlertUser severity={severity} message={message}/>\n                <TextField\n                    value = {body}\n                    autoFocus\n                    type='text'\n                    margin=\"normal\"\n                    label=\"Say something here...\"\n                    fullWidth\n                    variant=\"standard\"\n                    multiline\n                    onChange={(event) => setBody(event.target.value)}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleCloseCreateComment}>Cancel</Button>\n                <Button onClick={handleSubmitCreateComment}>Comment</Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default CreateComment;","import { Button, Dialog, DialogActions, DialogContent, \n    DialogTitle } from '@material-ui/core';\nimport AlertUser from '../AlertUser';\nimport { AlertColor } from '@mui/material/Alert';\n\nimport React, { useState } from 'react';\n\ntype Props = {\n    openDeleteThread: boolean;\n    handleCloseDeleteThread: () => void;\n    thread_page_id: number;\n    API: string;\n}\n\n// Delete thread dialog page\nconst DeleteThread: React.FC<Props> = ({API, openDeleteThread, handleCloseDeleteThread, thread_page_id}: Props) => {\n    const [severity, setSeverity] = useState<AlertColor | undefined>(undefined);\n    const [message, setMessage] = useState<string[]>([]);\n    \n    // On clicking submit button, delete thread in backend\n    const handleSubmitDeleteThread = () => {\n        let new_message: string[] = [];\n        fetch(API + \"/thread_pages/\" + thread_page_id.toString(), {\n            method: 'DELETE',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                },\n        })\n            .then((response) => {\n                if (response.ok) {\n                    setSeverity('success');\n                    new_message.push(\"You have deleted thread!\")\n                    setMessage(new_message);\n                    const url = window.location.href;\n\n                    // If page before opening dialog was individual threads page (ThreadView page), return to home, since thread deleted\n                    // Else, return to page user was on\n                    setTimeout(url.startsWith(window.location.protocol + \"//\" + window.location.host + \"/thread\")\n                        ? () => window.location.replace(window.location.protocol + \"//\" + window.location.host)\n                        : () => window.location.reload(), 1000);\n                } else {\n                    setSeverity('error');\n                    new_message.push(\"Some error occured\");\n                    setMessage(new_message);\n                }\n            })\n            .catch((error) => console.log(error.message));\n    }\n\n    // Dialog page contains \"cancel\" and \"delete thread\" buttons\n    return (\n        <Dialog open={openDeleteThread} onClose={handleCloseDeleteThread} fullWidth>\n            <DialogTitle>Are you sure you want to delete this thread?</DialogTitle>\n            {/* Display success / error messages */}\n            <DialogContent>\n                <AlertUser severity={severity} message={message}/>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleCloseDeleteThread}>Cancel</Button>\n                <Button onClick={handleSubmitDeleteThread}>Delete Thread</Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default DeleteThread;","const strToArray = (str: string) => {\n    return str.replace(/\\s/g, \"\").toLowerCase().split(\"#\").filter(tag => tag !== \"\");\n}\n\nconst arrayStrToStr = (arrayStr: string) => {\n    return \"#\" + arrayStr.split(\",\").join(\"#\");\n}\n\nexport { strToArray, arrayStrToStr };","import { Button, TextField, Dialog, DialogActions, DialogContent, \n    DialogTitle, Grid, Chip } from '@material-ui/core';\nimport AlertUser from '../AlertUser';\nimport { AlertColor } from '@mui/material/Alert';\nimport { strToArray, arrayStrToStr } from '../../actions/actions';\nimport { Thread } from '../../types/Thread';\n\nimport React, { useState, useEffect } from 'react';\n\ntype Props = {\n    openUpdateThread: boolean;\n    handleCloseUpdateThread: () => void;\n    thread: Thread;\n    API: string;\n}\n\n// Edit thread dialog (must be creator of thread and logged in)\nconst UpdateThread: React.FC<Props> = ({API, openUpdateThread, handleCloseUpdateThread, thread}: Props) => {\n    const [title, setTitle] = useState<string>(thread.title);\n    const [body, setBody] = useState<string>(thread.body);\n    const [tagsInput, setTagsInput] = useState<string>(arrayStrToStr(thread.tags)); // tags string directly from user input\n    const [tagsArray, setTagsArray] = useState<string[]>([]); // tags parsed into arrays\n    const [severity, setSeverity] = useState<AlertColor | undefined>(undefined);\n    const [message, setMessage] = useState<string[]>([]);\n\n    const resetUpdateThread = () => {\n        setTitle(\"\");\n        setBody(\"\");\n        setTagsInput(\"\");\n    }\n\n    // whenver tagsInput string changed by user, update tagsArray\n    useEffect(() => {\n        setTagsArray(strToArray(tagsInput));\n    }, [tagsInput]);\n\n    // On clicking submit button, patch changes to backend\n    const handleSubmitUpdateThread = () => {\n\n        // empty message array, before adding error/success messages\n        let new_message: string[] = [];\n\n        // array as string equivalent in backend\n        const tags = tagsArray.toString(); \n\n        // check that all fields are not empty\n        if (title === \"\" || body === \"\") {\n            new_message.push(\"Fill in all fields\");\n        }\n        if (new_message.length > 0) {\n            setSeverity('error');\n            setMessage(new_message);\n        } else {\n            fetch(API + \"/thread_pages/\" + thread.id, {\n                method: 'PATCH',\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                  },\n                body: JSON.stringify({\n                    title,\n                    body,\n                    tags,\n                }),\n            })\n                .then((response) => {\n                    if (response.ok) {\n                        setSeverity('success');\n                        new_message.push(\"Changes saved!\")\n                        setMessage(new_message);\n\n                        // Empty all fields (prevent resubmission) and refresh page\n                        resetUpdateThread();\n                        setTimeout(() => window.location.reload(), 1000);\n                    } else {\n                        setSeverity('error');\n                        new_message.push(\"Some error occured\");\n                        setMessage(new_message);\n                    }\n                })\n                .catch((error) => console.log(error.message));\n        }\n    }\n\n    // Dialog page contains \"title\" and \"body\" text fields, and \"close\" and \"edit thread\" (submit changes) buttons\n    return (\n        <Dialog open={openUpdateThread} onClose={handleCloseUpdateThread} fullWidth>\n            <DialogTitle>What's on your mind?</DialogTitle>\n            <DialogContent>\n                {/* Display success/error messages */}\n                <AlertUser severity={severity} message={message}/>\n                <TextField\n                    value={title}\n                    autoFocus\n                    type='text'\n                    margin=\"normal\"\n                    label=\"Title\"\n                    fullWidth\n                    variant=\"standard\"\n                    onChange={event => setTitle(event.target.value)}\n                />\n                {/* textfield that accepts tags input */}\n                <TextField\n                    value={tagsInput}\n                    type='text'\n                    margin=\"normal\"\n                    label=\"Tags\"\n                    fullWidth\n                    placeholder='#HawkerFood #Travel #School'\n                    variant=\"standard\"\n                    onChange={event => setTagsInput(event.target.value)}\n                />\n                {/* display tags for user to view how tags will look like on thread */}\n                <Grid container direction='row' spacing={1} justifyContent='flex-start' alignItems='flex-start'>\n                    { tagsArray.length > 0 && tagsArray.map(tag =>\n                        <Grid item>\n                            <Chip label={tag}/>\n                        </Grid>\n                    )}\n                </Grid>\n                <TextField\n                    value={body}\n                    type='text'\n                    margin=\"normal\"\n                    label=\"Say something here...\"\n                    fullWidth\n                    variant=\"standard\"\n                    multiline\n                    onChange={event => setBody(event.target.value)}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleCloseUpdateThread}>Cancel</Button>\n                <Button onClick={handleSubmitUpdateThread}>Edit Thread</Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default UpdateThread;","import React from 'react';\nimport { IconButton } from '@material-ui/core';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport Stack from '@mui/material/Stack';\nimport CommentIcon from '@mui/icons-material/Comment';\nimport CreateComment from '../comment/CreateComment';\nimport DeleteThread from './DeleteThread';\nimport UpdateThread from './UpdateThread';\nimport CurrentUserState from '../../types/CurrentUserState';\nimport {Thread} from '../../types/Thread';\nimport GlobalMessageState from '../../types/GlobalMessageState';\n\ntype Props = {\n    commentable: boolean;\n    thread: Thread;\n    currentUserState: CurrentUserState;\n    API: string;\n    globalMessageState: GlobalMessageState;\n};\n\n// row of delete, edit and comment buttons on thread card\nconst DeleteEditCommentOnThread: React.FC<Props> = ({ API, currentUserState, thread, globalMessageState }: Props) => {\n\n    // toggle open/close \"create comment\" dialog page\n    // allow user to create comment only if logged in (user info required)\n    const [openCreateComment, setOpenCreateComment] = React.useState<boolean>(false);\n    const handleClickOpenCreateComment = () => {\n      if (currentUserState.isLoggedIn) {\n        setOpenCreateComment(true);\n      } else {\n        globalMessageState.setSeverityGlobalMessage(\"error\");\n        globalMessageState.setGlobalMessage([\"Please login to comment\"]);\n        globalMessageState.handleOpenGlobalMessage();\n      }\n    };\n    const handleCloseCreateComment = () => {\n      setOpenCreateComment(false);\n    };\n\n    // toggle open/close \"delete thread\" dialog page\n    const [openDeleteThread, setOpenDeleteThread] = React.useState<boolean>(false);\n    const handleClickOpenDeleteThread = () => {\n      setOpenDeleteThread(true);\n    };\n    const handleCloseDeleteThread = () => {\n      setOpenDeleteThread(false);\n    };\n\n    // toggle open/close \"update/edit thread\" dialog pagae\n    const [openUpdateThread, setOpenUpdateThread] = React.useState<boolean>(false);\n    const handleClickOpenUpdateThread = () => {\n      setOpenUpdateThread(true);\n    };\n    const handleCloseUpdateThread = () => {\n      setOpenUpdateThread(false);\n    };\n    \n    // open \"create comment\" / \"update thread\" / \"delete thread\" dialog pages on clicking respectively buttons\n    // display \"update thread\" and \"delete thread\" buttons only for creators that are logged in\n    return (\n        <Stack direction=\"row\" justifyContent='flex-end' alignItems=\"center\" spacing={1}>\n            <IconButton onClick={handleClickOpenCreateComment}>\n                <CommentIcon />\n            </IconButton>\n            <CreateComment API={API} thread_page_id={thread.id} openCreateComment={openCreateComment} handleCloseCreateComment={handleCloseCreateComment} currentUserState={currentUserState}/>\n            { thread.user_id === currentUserState.currentUser.id &&\n              <>\n                <IconButton onClick={handleClickOpenUpdateThread}>\n                  <EditIcon />\n                </IconButton>\n                <UpdateThread API={API} thread={thread} openUpdateThread={openUpdateThread} handleCloseUpdateThread={handleCloseUpdateThread} />\n              </>\n            }\n            { thread.user_id === currentUserState.currentUser.id &&\n              <>\n                <IconButton onClick={handleClickOpenDeleteThread}>\n                  <DeleteIcon />\n                </IconButton>\n                <DeleteThread API={API} thread_page_id={thread.id} openDeleteThread={openDeleteThread} handleCloseDeleteThread={handleCloseDeleteThread} />\n              </>\n            }\n        </Stack>\n    );\n};\n\nexport default DeleteEditCommentOnThread;","import { Typography } from '@material-ui/core';\nimport Stack from '@mui/material/Stack';\n\nimport React from 'react';\n\ntype Props = {\n    toOverflow: boolean;\n    body: string;\n}\n\nconst BodyAddHTML: React.FC<Props> = ({ body, toOverflow }: Props) => {\n    \n    // parse body string obtained from backend, and convert into array of tags string, with \"next line\" property handled\n    const body_array: string[] = body.split('\\n').filter(ele => ele !== \"\");\n\n    // if text to be fully displayed (threads in individual ThreadView page)\n    if (!toOverflow) {\n        return (\n            <Stack direction='column' spacing={0}>\n                { body_array.map((line, index) => (\n                    <div key={index}>\n                        <Typography align='left' variant=\"body1\">\n                            {line}\n                        </Typography>\n                        <br />\n                    </div>\n                ))}\n            </Stack>\n        );\n    }\n\n    // if text-overflow: \"...\" to summarize text and keep text short (threads list view eg. homepage and mythreads page)\n    const body_elipsis = body_array.join('...');\n    return (\n        <Typography noWrap={toOverflow} align='left' variant=\"body1\">\n            {body_elipsis}\n        </Typography>\n    );\n};\n\nexport default BodyAddHTML;","import React from 'react';\nimport { Card, CardContent, Typography, CardActionArea } from '@material-ui/core';\nimport Stack from '@mui/material/Stack';\nimport AvatarUserTimeTags from '../AvatarUserTimeTags';\nimport DeleteEditCommentOnThread from './DeleteEditCommentOnThread';\nimport { Thread } from '../../types/Thread';\nimport BodyAddHTML from '../BodyAddHTML';\nimport CurrentUserState from '../../types/CurrentUserState';\nimport GlobalMessageState from '../../types/GlobalMessageState';\n\ntype Props = {\n    toOverflow: boolean;\n    thread: Thread;\n    currentUserState: CurrentUserState;\n    API: string;\n    globalMessageState: GlobalMessageState;\n}\n\n// display individual thread: title, body, user, tags, and button icons to edit, delete or comment\nconst ThreadPost: React.FC<Props> = ( {API, toOverflow, thread, currentUserState, globalMessageState}: Props) => {\n    return (\n        // Clickable title: redirect to individual thread page (expecially on home page, where threads have text-oveflow and comments are hidden)\n        <Card>\n            <CardActionArea style={{ padding: '20px' }} href={'/thread/' + thread.id}>\n                <Typography variant='h4' align='left'>\n                    {thread.title}\n                </Typography>\n            </CardActionArea>\n            <CardContent>\n                <Stack direction='column' spacing={3}>\n                    {/* Section of thread displaying creator, date and time, and tags */}\n                    <AvatarUserTimeTags tagged={true} user={thread.user.username} time={new Date(thread.created_at)} tags={thread.tags}/>\n                    {/* Body text with html properties handled */}\n                    <BodyAddHTML body={thread.body} toOverflow={toOverflow} />\n                    {/* Button icons for deleting, editing and commenting */}\n                    <DeleteEditCommentOnThread globalMessageState={globalMessageState} API={API} commentable={true} thread={thread} currentUserState={currentUserState}/>\n                </Stack>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default ThreadPost;","import '../../App.css';\nimport ThreadMainPost from './ThreadMainPost';\nimport Stack from '@mui/material/Stack';\nimport { Thread } from '../../types/Thread';\nimport CurrentUserState from '../../types/CurrentUserState';\nimport GlobalMessageState from '../../types/GlobalMessageState';\n\nimport React from 'react';\n\ntype Props = {\n    threads: Thread[];\n    currentUserState: CurrentUserState;\n    error: any;\n    isLoaded: boolean;\n    API: string;\n    globalMessageState: GlobalMessageState;\n}\n\n// Display sequence of threads (overflowed body-text)\nconst ThreadList: React.FC<Props> = ({ API, threads, error, isLoaded, currentUserState, globalMessageState }: Props) => {\n\n    // Display \"loading\" until response received, then display error or threads\n    if (error) {\n        return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n        return <div>Loading...</div>;\n    } else {\n        return (\n            <div style={{ width: '50vw', margin: 'auto', textAlign: 'center' }}>\n                <Stack spacing={2}>\n                    { threads.map(thread => (\n                        // List of threads: title, body, user, tags, and button icons to edit, delete or comment\n                        <ThreadMainPost globalMessageState={globalMessageState} API={API} toOverflow={true} thread={thread} key={thread.id} currentUserState={currentUserState}/>\n                    ))}\n                </Stack>\n            </div>\n        );\n    }\n};\n\nexport default ThreadList;\n","import { Button, TextField, Dialog, DialogActions, DialogContent, \n    DialogTitle, Grid, Chip} from '@material-ui/core';\nimport AlertUser from '../AlertUser';\nimport { AlertColor } from '@mui/material/Alert';\nimport { strToArray } from '../../actions/actions';\nimport CurrentUserState from '../../types/CurrentUserState';\n\nimport React, { useState, useEffect } from 'react';\n\ntype Props = {\n    openCreateThread: boolean;\n    handleCloseCreateThread: () => void;\n    currentUserState: CurrentUserState;\n    API: string;\n}\n\n// create thread dialog page\nconst CreateThread: React.FC<Props> = ({API, openCreateThread, handleCloseCreateThread, currentUserState }: Props) => {\n    const [title, setTitle] = useState<string>(\"\");\n    const [body, setBody] = useState<string>(\"\");\n    const [tagsInput, setTagsInput] = useState<string>(\"#\"); // tags string directly from user input\n    const [tagsArray, setTagsArray] = useState<string[]>([]); // tags parsed into arrays\n    const [severity, setSeverity] = useState<AlertColor | undefined>(undefined);\n    const [message, setMessage] = useState<string[]>([]);\n\n    const resetCreateThread = () => {\n        setTitle(\"\");\n        setBody(\"\");\n        setTagsInput(\"\");\n    }\n\n    // whenver tagsInput string changed by user, update tagsArray\n    useEffect(() => {\n        setTagsArray(strToArray(tagsInput));\n    }, [tagsInput]);\n\n    // on clicking create button, post to backend\n    const handleSubmitCreateThread = () => {\n        const user_id = currentUserState.currentUser.id;\n        // array as string equivalent in backend\n        const tags = tagsArray.toString(); \n        // reset messages array, before adding error/success messages\n        let new_message: string[] = []; \n        // reject empty fields (except tags)\n        if (title === \"\" || body === \"\") { \n            new_message.push(\"Fill in all fields\");\n        }\n        if (new_message.length > 0) {\n            setSeverity('error');\n            setMessage(new_message);\n        } else {\n            fetch(API + \"/thread_pages\", {\n                method: 'POST',\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    title,\n                    body,\n                    user_id,\n                    tags,\n                }),\n            })\n                .then((response) => {\n                    if (response.ok) {\n                        setSeverity('success');\n                        new_message.push(\"You have created a new thread!\")\n                        setMessage(new_message);\n                        // empty fields (prevent duplicate creatiion) and refresh page\n                        resetCreateThread();\n                        setTimeout(() => window.location.reload(), 1000);\n                    } else {\n                        setSeverity('error');\n                        new_message.push(\"Some error occured\");\n                        setMessage(new_message);\n                    }\n                })\n                .catch((error) => console.log(error.message));\n        }\n    }\n    \n    // dialog contains title, tags and body text fields, and \"cancel\" and \"create thread\" buttons\n    return (\n        <Dialog open={openCreateThread} onClose={handleCloseCreateThread} fullWidth>\n            <DialogTitle>What's on your mind?</DialogTitle>\n            <DialogContent>\n                {/* display success/error messages */}\n                <AlertUser severity={severity} message={message}/>\n                <TextField\n                    value={title}\n                    autoFocus\n                    type='text'\n                    margin=\"normal\"\n                    label=\"Title\"\n                    fullWidth\n                    variant=\"standard\"\n                    onChange={event => setTitle(event.target.value)}\n                />\n                {/* textfield that accepts tags input */}\n                <TextField\n                    value={tagsInput}\n                    type='text'\n                    margin=\"normal\"\n                    label=\"Tags\"\n                    fullWidth\n                    placeholder='#HawkerFood #Travel #School'\n                    variant=\"standard\"\n                    onChange={event => setTagsInput(event.target.value)}\n                />\n                {/* display tags for user to view how tags will look like on thread */}\n                <Grid container direction='row' spacing={1} justifyContent='flex-start' alignItems='flex-start'>\n                    { tagsArray.length > 0 && tagsArray.map(tag =>\n                        <Grid item>\n                            <Chip label={tag}/>\n                        </Grid>\n                    )}\n                </Grid>\n                <TextField\n                    value={body}\n                    type='text'\n                    margin=\"normal\"\n                    label=\"Say something here...\"\n                    fullWidth\n                    variant=\"standard\"\n                    multiline\n                    onChange={event => setBody(event.target.value)}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleCloseCreateThread}>Cancel</Button>\n                <Button onClick={handleSubmitCreateThread}>Create Thread</Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default CreateThread;","import React, { useEffect, useState } from 'react';\nimport Paper from '@mui/material/Paper';\nimport InputBase from '@mui/material/InputBase';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport SearchIcon from '@mui/icons-material/Search';\nimport LibraryAddIcon from '@mui/icons-material/LibraryAdd';\nimport CreateThread from './thread/CreateThread';\nimport ThreadSearch from '../types/ThreadSearch';\nimport { Typography, CardActionArea } from '@material-ui/core';\nimport Stack from '@mui/material/Stack';\nimport TagIcon from '@mui/icons-material/Tag';\nimport { strToArray } from '../actions/actions';\nimport { Thread } from '../types/Thread';\nimport CurrentUserState from '../types/CurrentUserState';\nimport GlobalMessageState from '../types/GlobalMessageState';\n\ntype Props = {\n    setThreadResults: React.Dispatch<React.SetStateAction<Thread[]>>;\n    currentUserState: CurrentUserState;\n    API: string;\n    globalMessageState: GlobalMessageState;\n}\n\n// Searchbar: search by both title and tags\nconst SearchBar: React.FC<Props> = ({setThreadResults, currentUserState, API, globalMessageState}: Props) => {\n    const handleRedirectToThreadPage = (threadID: number) => {\n        window.location.replace(\n            window.location.protocol + \"//\" + window.location.host + '/thread/' + threadID.toString()\n        );\n    }\n\n    // toggle close/open create thread dialog page\n    const [openCreateThread, setOpenCreateThread] = React.useState<boolean>(false);\n    const handleClickOpenCreateThread = () => {\n        // only allow logged in users to create thread\n        if (currentUserState.isLoggedIn) {\n            setOpenCreateThread(true);\n        } else {\n            globalMessageState.setSeverityGlobalMessage(\"error\");\n            globalMessageState.setGlobalMessage([\"Please login to create thread\"]);\n            globalMessageState.handleOpenGlobalMessage();\n        }\n    };\n    const handleCloseCreateThread = () => {\n      setOpenCreateThread(false);\n    };\n\n    const [searchByTags, setSearchByTags] = useState<Boolean>(false);\n    const [search, setSearch] = useState<string>(\"\");\n    const [results, setResults] = useState<ThreadSearch[]>([]);\n\n    // On clicking search button, POST to backend and set list of threads to search results\n    // Toggle: search by tags pr search by title\n    const handleClickSearch = () => {\n        if (search === \"\") {\n            return;\n        } else if (searchByTags) {\n            const tagsArray = strToArray(search);\n            fetch(API + \"/thread_pages/search/tags\", {\n                method: 'POST',\n                mode: 'cors',\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    tagsArray,\n                }),\n            })\n                .then(res => res.json())\n                .then(\n                    (result) => {\n                        setThreadResults(result);\n                    }\n                )\n        } else {\n            const title = search;\n            fetch(API + \"/thread_pages/search/title\", {\n                method: 'POST',\n                mode: 'cors',\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    title,\n                }),\n            })\n                .then(res => res.json())\n                .then(\n                    (result) => {\n                        setThreadResults(result);\n                    }\n                )\n        }\n    }\n\n    // On change in search bar, post to backend, update results in dropdown menu\n    // Toggle: dropdown displays tags or titles\n    useEffect(() => {\n        if (search === \"\") {\n            setResults([]);\n        }\n        else if (searchByTags) {\n            const tagsArray = strToArray(search);\n            console.log(tagsArray);\n            fetch(API + \"/thread_pages/search/tags/autocomplete\", {\n                method: 'POST',\n                mode: 'cors',\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    tagsArray,\n                }),\n            })\n                .then(res => res.json())\n                .then(\n                    (result) => {\n                        setResults(result);\n                    }\n                )\n        } else {\n            const title = search;\n            fetch(API + \"/thread_pages/search/title/autocomplete\", {\n                method: 'POST',\n                mode: 'cors',\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    title,\n                }),\n            })\n                .then(res => res.json())\n                .then(\n                    (result) => {\n                        setResults(result);\n                    }\n                )\n        }\n    }, [search, searchByTags, API]);\n\n    return (\n        <div style={{paddingTop: '20px', paddingBottom: '20px', position: 'sticky', top: '50px', zIndex: '1100'}}>\n            <Paper\n            component=\"form\" \n            sx={{ display: 'flex', alignItems: 'center' }}\n            >\n                {/* Search input area: let's user know if in tags or title mode using placeholders */}\n                <InputBase\n                    sx={{ ml: 1, flex: 1 }}\n                    placeholder={\n                        searchByTags ? \"Search by Tags: #HawkerFood #Travel # School\" : \"Search by Title\"}\n                    value={search}\n                    onChange={event => setSearch(event.target.value)}\n                />\n                {/* Search and refresh threads list in home page to display new search results */}\n                <IconButton onClick={handleClickSearch}>\n                    <SearchIcon />\n                </IconButton>\n                {/* Toggle \"search by tags\" button (search by tags when on, search by title when off) */}\n                <IconButton onClick={() => setSearchByTags(!searchByTags)}>\n                    <TagIcon color={searchByTags ? 'primary' : \"disabled\"}/>\n                </IconButton>\n                <Divider sx={{ height: 28, m: 0.5 }} orientation=\"vertical\" />\n                {/* Create thread icon: opens create thread dialog page */}\n                <IconButton onClick={handleClickOpenCreateThread}>\n                    <LibraryAddIcon />\n                </IconButton>\n                <CreateThread API={API} openCreateThread={openCreateThread} handleCloseCreateThread={handleCloseCreateThread} currentUserState={currentUserState}/>\n            </Paper>\n            {/* Dropdown menu containing tags or titles based on user inputin search bar */}\n            { results.length > 0 &&\n                <Paper sx={{justifyItems: \"flex-start\"}}>\n                    <Stack direction=\"column\" alignItems=\"flex-start\">\n                        { results.map(result =>\n                                <CardActionArea style={{paddingTop: 3, paddingBottom: 3, paddingLeft: 8}} \n                                    onClick={() => handleRedirectToThreadPage(result.id)}\n                                >\n                                    <Typography key={result.id} align=\"left\">{result.title}</Typography>\n                                </CardActionArea>\n                        )}\n                    </Stack>\n                </Paper>\n            }\n        </div>\n    );\n};\n\nexport default SearchBar;","import ThreadList from '../components/thread/ThreadList';\nimport { Typography } from '@material-ui/core';\nimport Typewriter from 'typewriter-effect';\nimport SearchBar from '../components/SearchBar';\nimport { Thread } from '../types/Thread';\nimport CurrentUserState from '../types/CurrentUserState';\nimport GlobalMessageState from '../types/GlobalMessageState';\n\nimport React, {useState, useEffect} from 'react';\n\ntype Props = {\n    currentUserState: CurrentUserState;\n    API: string;\n    globalMessageState: GlobalMessageState;\n}\n\n// Root path directs to homepage\nconst Home: React.FC<Props> = ( {currentUserState, API, globalMessageState}: Props) => {\n    const [threadResults, setThreadResults] = useState<Thread[]>([]);\n    const [error, setError] = useState<any>(null);\n    const [isLoaded, setIsLoaded] = useState<boolean>(false);\n    const [threads, setThreads] = useState<Thread[]>(threadResults);\n\n    // get json of latest threads from server\n    useEffect(() => {\n        if (threadResults.length > 0) {\n            setIsLoaded(true);\n            setThreads(threadResults);\n        } else {\n            fetch(API + \"/thread_pages\", {\n                method: 'GET',\n                mode: 'cors'\n            })\n                .then(res => res.json())\n                .then(\n                    (result) => {\n                        setIsLoaded(true);\n                        setThreads(result);\n                    },\n                    (error) => {\n                        setIsLoaded(true);\n                        setError(error);\n                    }\n                )\n        }\n    }, [threadResults, API]);\n\n    return (\n        <div style={{ width: '50vw', margin: 'auto', textAlign: 'center'}}>\n\n            {/* ChitChat animiation */}\n            <Typography variant='h3' style={{ paddingTop: '70px'}}>\n                <Typewriter\n                    onInit={(typewriter) => {\n                        typewriter\n                            .changeDelay(80)\n                            .typeString(\"ChitChat\")\n                            .pauseFor(1000)\n                            .start();\n                    }}\n                /> \n            </Typography>\n\n            {/* Search Bar: search by tags or title */}\n            <SearchBar setThreadResults={setThreadResults} currentUserState={currentUserState} API={API}\n                globalMessageState={globalMessageState}/>\n\n            {/* List of threads, starting from latest */}\n            <ThreadList globalMessageState={globalMessageState} API={API} threads={threads} currentUserState={currentUserState}\n                error={error} isLoaded={isLoaded}/>\n        </div>\n    );\n};\n\nexport default Home;","import Comment from './Comment';\nimport User from './User';\n\ntype Thread = {\n    id: number;\n    title: string;\n    body: string;\n    user_id: number;\n    tags: string;\n    created_at: string;\n    updated_at: string;\n    comments: Comment[];\n    user: User;\n};\n\nconst emptyThread: Thread = {\n    id: 0,\n    title: '',\n    body: '',\n    user_id: 0,\n    tags: \"\",\n    created_at: '',\n    updated_at: '',\n    comments: [],\n    user: {\n        username: '',\n    },\n}\n\nexport { type Thread, emptyThread };","import { Button, Dialog, DialogActions, DialogContent, \n    DialogTitle } from '@material-ui/core';\nimport AlertUser from '../AlertUser';\nimport { AlertColor } from '@mui/material/Alert';\nimport Comment from '../../types/Comment';\n\nimport React, { useState } from 'react';\n\ntype Props = {\n    openDeleteComment: boolean;\n    handleCloseDeleteComment: () => void;\n    comment: Comment;\n    API: string;\n}\n\n// Delete comment dialog page\nconst DeleteComment: React.FC<Props> = ({API, openDeleteComment, handleCloseDeleteComment, comment}: Props) => {\n    const [severity, setSeverity] = useState<AlertColor | undefined>(undefined);\n    const [message, setMessage] = useState<string[]>([]);\n    \n    // on clicking delete comment button, delete in backend\n    const handleSubmitDeleteComment = () => {\n        let new_message: string[] = [];\n        fetch(API + \"/thread_pages/\" + comment.thread_page_id.toString() + \"/comments/\" + comment.id.toString(), {\n            method: 'DELETE',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                },\n        })\n            .then((response) => {\n                if (response.ok) {\n                    setSeverity('success');\n                    new_message.push(\"You have deleted comment!\")\n                    setMessage(new_message);\n\n                    // reload page after short delay (prevent user from deleting comment again)\n                    setTimeout(() => window.location.reload(), 1000);\n                } else {\n                    setSeverity('error');\n                    new_message.push(\"Some error occured\");\n                    setMessage(new_message);\n                }\n            })\n            .catch((error) => console.log(error.message));\n    }\n\n    // dialog contains \"cancel\" and \"delete comment\" buttons\n    return (\n        <Dialog open={openDeleteComment} onClose={handleCloseDeleteComment} fullWidth>\n            <DialogTitle>Are you sure you want to delete this comment?</DialogTitle>\n            <DialogContent>\n                {/* display success/error messages */}\n                <AlertUser severity={severity} message={message}/>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleCloseDeleteComment}>Cancel</Button>\n                <Button onClick={handleSubmitDeleteComment}>Delete Comment</Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default DeleteComment;","import { Button, TextField, Dialog, DialogActions, DialogContent, \n    DialogTitle} from '@material-ui/core';\nimport AlertUser from '../AlertUser';\nimport { AlertColor } from '@mui/material/Alert';\nimport Comment from '../../types/Comment';\n\nimport React, { useState } from 'react';\n\ntype Props = {\n    openUpdateComment: boolean;\n    handleCloseUpdateComment: () => void;\n    comment: Comment;\n    API: string;\n}\n\n// Edit comment dialog (visible by creator and when creator is logged in)\nconst UpdateComment: React.FC<Props> = ({API, openUpdateComment, handleCloseUpdateComment, comment}: Props) => {\n    const [body, setBody] = useState<string>(comment.body);\n    const [severity, setSeverity] = useState<AlertColor | undefined>(undefined);\n    const [message, setMessage] = useState<string[]>([]);\n    \n    const resetUpdateComment = () => {\n        setBody(\"\");\n    }\n\n    // On clicking \"edit comment\" button, patch changes to backend\n    const handleSubmitUpdateComment = () => {\n\n        // Empty message array, before adding error/success messages\n        let new_message: string[] = [];\n\n        // Reject empty fields\n        if (body === \"\") {\n            new_message.push(\"Fill in all fields\");\n        }\n        if (new_message.length > 0) {\n            setSeverity('error');\n            setMessage(new_message);\n        } else {\n            fetch(API + \"/thread_pages/\" + comment.thread_page_id + \"/comments/\" + comment.id, {\n                method: 'PATCH',\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                  },\n                body: JSON.stringify({\n                    body,\n                }),\n            })\n                .then((response) => {\n                    if (response.ok) {\n                        setSeverity('success');\n                        new_message.push(\"Changes saved!\")\n                        setMessage(new_message);\n\n                        // Empty all fields (prevent resubmissions) and refresh page\n                        resetUpdateComment();\n                        setTimeout(() => window.location.reload(), 1000);\n                    } else {\n                        setSeverity('error');\n                        new_message.push(\"Some error occured\");\n                        setMessage(new_message);\n                    }\n                })\n                .catch((error) => console.log(error.message));\n        }\n    }\n\n    // Dialog page contains \"body\" text field, and \"cancel\" and \"edit comment\" (submit changes) buttons\n    return (\n        <Dialog open={openUpdateComment} onClose={handleCloseUpdateComment} fullWidth>\n            <DialogTitle>What's on your mind?</DialogTitle>\n            <DialogContent>\n                {/* Display success/error messages */}\n                <AlertUser severity={severity} message={message}/>\n                <TextField\n                    value={body}\n                    type='text'\n                    margin=\"normal\"\n                    label=\"Say something here...\"\n                    fullWidth\n                    variant=\"standard\"\n                    multiline\n                    onChange={event => setBody(event.target.value)}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleCloseUpdateComment}>Cancel</Button>\n                <Button onClick={handleSubmitUpdateComment}>Save Changes</Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default UpdateComment;","import React from 'react';\nimport { IconButton } from '@material-ui/core';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport Stack from '@mui/material/Stack';\nimport DeleteComment from './DeleteComment';\nimport Comment from '../../types/Comment';\nimport UpdateComment from './UpdateComment';\nimport CurrentUserState from '../../types/CurrentUserState';\n\ntype Props = {\n    comment: Comment;\n    currentUserState: CurrentUserState;\n    API: string;\n}\n\n// Row of delete and edit buttons on comment card\nconst DeleteEditOnComment: React.FC<Props> = ({API, comment, currentUserState}: Props) => {\n\n    // toggle delete dialog page\n    const [openDeleteComment, setOpenDeleteComment] = React.useState<boolean>(false);\n    const handleClickOpenDeleteComment = () => {\n      setOpenDeleteComment(true);\n    };\n    const handleCloseDeleteComment = () => {\n      setOpenDeleteComment(false);\n    };\n\n    // toggle update / edit commetn page\n    const [openUpdateComment, setOpenUpdateComment] = React.useState<boolean>(false);\n    const handleClickOpenUpdateComment = () => {\n      setOpenUpdateComment(true);\n    };\n    const handleCloseUpdateComment = () => {\n      setOpenUpdateComment(false);\n    };\n    \n    // display edit and comment buttons only for creators that are logged in\n    // open edit/delete dialog pages on clicking edit/delete buttons respectively\n    return (\n        <Stack direction=\"row\" justifyContent='flex-end' alignItems=\"center\" spacing={1}>\n          { comment.user_id === currentUserState.currentUser.id &&\n            <>\n              <IconButton onClick={handleClickOpenUpdateComment}>\n                  <EditIcon />\n              </IconButton>\n              <UpdateComment API={API} comment={comment} openUpdateComment={openUpdateComment} handleCloseUpdateComment={handleCloseUpdateComment} />\n            </>\n          }\n          { comment.user_id === currentUserState.currentUser.id &&\n            <>\n              <IconButton onClick={handleClickOpenDeleteComment}>\n                <DeleteIcon />\n              </IconButton>\n              <DeleteComment API={API} comment={comment} openDeleteComment={openDeleteComment} handleCloseDeleteComment={handleCloseDeleteComment} />\n            </>\n          }\n        </Stack>\n    );\n};\n\nexport default DeleteEditOnComment;","import Comment from '../../types/Comment';\nimport React from 'react';\nimport { Card, CardContent, makeStyles } from '@material-ui/core';\nimport Stack from '@mui/material/Stack';\nimport AvatarUserTimeTags from '../AvatarUserTimeTags';\nimport DeleteEditOnComment from './DeleteEditOnComment';\nimport BodyAddHTML from '../BodyAddHTML';\nimport CurrentUserState from '../../types/CurrentUserState';\n\ntype Props = {\n    comment: Comment;\n    currentUserState: CurrentUserState;\n    API: string;\n};\n\nconst useStyles = makeStyles({\n    commentBody: {\n        fontSize: 16,\n        whiteSpace: 'pre-wrap',\n        paddingBottom: '1em',\n    },\n    commentCard: {\n        marginBottom: '1em',\n    },\n    metadata: {\n        fontSize: 14,\n    },\n});\n\n// comment card\nconst CommentItem: React.FC<Props> = ({ API, comment, currentUserState }: Props) => {\n    const classes = useStyles();\n        return (\n            <Card className={classes.commentCard}>\n                <CardContent>\n                    <Stack direction='column' spacing={3}>\n                        {/* user, date and time (tags disabled for comments, since only threads have tags, but both use the same abstracted element) */}\n                        <AvatarUserTimeTags tagged={false} user={comment.user.username} time={new Date(comment.created_at)} tags={\"\"}/>\n                        {/* body text with html properties handled by a parser */}\n                        <BodyAddHTML body={comment.body} toOverflow={false}/>\n                        {/* delete and edit buttons: clickable only for creators that are logged in */}\n                        <DeleteEditOnComment API={API} comment={comment} currentUserState={currentUserState}/>\n                    </Stack>\n                </CardContent>\n            </Card>\n        );\n};\n\nexport default CommentItem;\n","import CommentItem from './CommentItem';\nimport Comment from '../../types/Comment';\nimport CurrentUserState from '../../types/CurrentUserState';\n\nimport React from 'react';\n\ntype Props = {\n    comments: Comment[];\n    currentUserState: CurrentUserState;\n    API: string;\n}\n\n// series of comments: each comment is a card displaying body text, edit and delete buttons, user and date and time\nconst CommentList: React.FC<Props> = ({API, comments, currentUserState}: Props) => {\n    return (\n        <ul>\n            {comments.map(comment => (\n                <CommentItem API={API} comment={comment} key={comment.id} currentUserState={currentUserState}/>\n            ))}\n        </ul>\n    );\n};\n\nexport default CommentList;\n","import { Thread, emptyThread } from '../../types/Thread';\nimport ThreadMainPost from './ThreadMainPost';\nimport CommentList from '../comment/CommentList';\nimport CurrentUserState from '../../types/CurrentUserState';\nimport GlobalMessageState from '../../types/GlobalMessageState';\n\nimport React, { useEffect, useState } from 'react';\n\ntype Props = {\n    threadID: string | undefined;\n    currentUserState: CurrentUserState;\n    API: string,\n    globalMessageState: GlobalMessageState;\n}\n\n// Page displaying individual thread and associated comments\nconst ThreadView: React.FC<Props> = ({threadID, currentUserState, API, globalMessageState}: Props) => {\n    const [error, setError] = useState<any>(null);\n    const [isLoaded, setIsLoaded] = useState<boolean>(false);\n    const [thread, setThread] = useState<Thread>(emptyThread);\n\n    // Fetch thread and associated comments when page loaded\n    useEffect(() => {\n        fetch(API + \"/thread_pages/\" + threadID, {\n            method: 'GET',\n            mode: 'cors'\n        })\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    setIsLoaded(true);\n                    setThread(result);\n                },\n                // Note: it's important to handle errors here\n                // instead of a catch() block so that we don't swallow\n                // exceptions from actual bugs in components.\n                (error) => {\n                    setIsLoaded(true);\n                    setError(error);\n                }\n            )\n    }, [threadID, API])\n    \n    // Display \"loading\" until response from backend, then display error or threads and comments\n    if (error) {\n        return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n        return <div>Loading...</div>;\n    } else {\n        return (\n            <>\n                {/* Individual thread: title, body, user, tags, and button icons to edit, delete or comment */}\n                <ThreadMainPost globalMessageState={globalMessageState} API={API} toOverflow={false} thread={thread} key={thread.id} currentUserState={currentUserState}/>\n                {/* all associated comments */}\n                <CommentList API={API} comments={thread.comments} currentUserState={currentUserState}/>\n            </>\n        );\n    }\n};\n\nexport default ThreadView;\n","import ThreadView from '../components/thread/ThreadView';\nimport { useParams } from \"react-router-dom\";\nimport CurrentUserState from '../types/CurrentUserState';\nimport GlobalMessageState from '../types/GlobalMessageState';\n\nimport React from 'react';\n\ntype Props = {\n    currentUserState: CurrentUserState,\n    API: string,\n    globalMessageState: GlobalMessageState\n}\n\nconst ThreadPage: React.FC<Props> = ({currentUserState, API, globalMessageState}: Props) => {\n    let { threadID }  = useParams();\n    return (\n        <div style={{ width: '50vw', margin: 'auto', textAlign: 'center', paddingTop: \"30px\" }}>\n            <ThreadView globalMessageState={globalMessageState} threadID={threadID} currentUserState={currentUserState} API={API}/>\n        </div>\n    );\n};\n\nexport default ThreadPage;\n","import { Button, TextField, Dialog, DialogActions, DialogContent, \n    DialogTitle, DialogContentText } from '@material-ui/core';\nimport AlertUser from '../AlertUser';\nimport { AlertColor } from '@mui/material/Alert';\nimport CurrentUserState from '../../types/CurrentUserState';\n\nimport React, { useState } from 'react';\nimport GlobalMessageState from '../../types/GlobalMessageState';\n\ntype Props = {\n    openLogIn: boolean;\n    handleCloseLogIn: () => void;\n    currentUserState: CurrentUserState;\n    globalMessageState: GlobalMessageState;\n    API: string;\n}\n\n// Login dialog page\nconst LogIn: React.FC<Props> = ({API, openLogIn, handleCloseLogIn, currentUserState, globalMessageState}: Props) => {\n    const [username, setUsername] = useState<string>(\"\");\n    const [password, setPassword] = useState<string>(\"\");\n\n    const [severity, setSeverity] = useState<AlertColor | undefined>('success');\n    const [message, setMessage] = useState<string[]>([]);\n\n    const resetLogIn = () => {\n        setUsername(\"\");\n        setPassword(\"\");\n    }\n\n    // On clicking login button, post to backend, authenticate and cache user information / token\n    const handleSubmitLogIn = () => {\n        let new_message: string[] = [];\n            fetch(API + \"/login\", {\n                method: 'POST',\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                  },\n                body: JSON.stringify({\n                    username,\n                    password,\n                }),\n            })\n                .then((response) => {\n                    return response.json();\n                })\n                .then((data) => {\n                    if (data.error) {\n                        setSeverity('error');\n                        data.error.map((error: string) =>\n                            new_message.push(error));\n                        setMessage(new_message);\n                    } else {\n                        currentUserState.setCurrentUser(data.user);\n                        localStorage.setItem(\"token\", data.token);\n                        setSeverity('success');\n                        new_message.push(\"Logged in successfully!\");\n                        setMessage(new_message);\n\n                        // empty fields to prevent relogin, then reload page\n                        resetLogIn();\n                        setTimeout(() => window.location.reload(), 1000);\n                    }\n                })\n                .catch((error) => console.log(error.message));\n    }\n\n    // dialog page contains username and password fields, and \"close\" and \"login\" buttons\n    return (\n        <Dialog open={openLogIn} onClose={handleCloseLogIn} fullWidth>\n            <DialogTitle>Welcome Back!</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Log in to create threads, comment and more...\n                </DialogContentText>\n                <DialogContentText>\n                    Dont have an account? Create one to do much more!\n                </DialogContentText>\n                {/* Display success / error messages */}\n                <AlertUser severity={severity} message={message}/>\n                <TextField\n                    autoFocus\n                    value={username}\n                    type='text'\n                    margin=\"normal\"\n                    label=\"Username\"\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={event => setUsername(event.target.value)}\n                />\n                <TextField\n                    value={password}\n                    type='password'\n                    margin=\"normal\"\n                    label=\"Password\"\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={event => setPassword(event.target.value)}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleCloseLogIn}>Cancel</Button>\n                <Button onClick={handleSubmitLogIn}>Log In</Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default LogIn;","import { Button, TextField, Dialog, DialogActions, DialogContent, \n    DialogTitle, DialogContentText } from '@material-ui/core';\nimport AlertUser from '../AlertUser';\nimport { AlertColor } from '@mui/material/Alert';\n\nimport React, { useState } from 'react';\n\ntype Props = {\n    openCreateAccount: boolean;\n    handleCloseCreateAccount: () => void;\n    API: string;\n}\n\n// create account dialog pagae\nconst CreateAccount: React.FC<Props> = ({API, openCreateAccount, handleCloseCreateAccount}: Props) => {\n    const [username, setUsername] = useState<string>(\"\");\n    const [password, setPassword] = useState<string>(\"\");\n    const [password_confirmation, setPassword_confirmation] = useState<string>(\"\");\n    const [severity, setSeverity] = useState<AlertColor | undefined>(undefined);\n    const [message, setMessage] = useState<string[]>([]);\n\n    const resetCreateAccount = () => {\n        setUsername(\"\");\n        setPassword(\"\");\n        setPassword_confirmation(\"\");\n    }\n\n    // on clicking \"create account\" button, post to backend\n    const handleSubmitCreateAccount = () => {\n        let new_message: string[] = []; // reset messsage array\n        fetch(API + \"/users\", {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                },\n            body: JSON.stringify({\n                username,\n                password,\n                password_confirmation,\n            }),\n        })\n            .then((response) => {\n                if (response.ok) {\n                    setSeverity('success');\n                    new_message.push(\"Account created successfully. Log in to do more!\")\n                    setMessage(new_message);\n                    // empty fields (prevent clicking create account again, although backend ensures unique username)\n                    resetCreateAccount();\n                    setTimeout(() => window.location.reload(), 1000); // refresh page\n                }\n                return response.json();\n            })\n            .then((data) => {\n                if (data.error) {\n                    setSeverity('error');\n                    data.error.map((error: string) =>\n                        new_message.push(error));\n                    setMessage(new_message);\n                }\n            })\n            .catch((error) => console.log(error.message));\n    }\n\n    // dialog contains username, password and password confirmation fields, and \"cancel\" and \"create account\" buttons\n    return (\n        <Dialog open={openCreateAccount} onClose={handleCloseCreateAccount} fullWidth>\n            <DialogTitle>Join the ChitChat Community!</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Dont have an account? Create one to create threads, comment and more...\n                </DialogContentText>\n                {/* display success/error messages */}\n                <AlertUser severity={severity} message={message}/>\n                    <TextField\n                        autoFocus\n                        value={username}\n                        type='text'\n                        margin=\"normal\"\n                        label=\"Username\"\n                        fullWidth\n                        variant=\"outlined\"\n                        onChange={event => setUsername(event.target.value.trim())} // whitespaces disallowed in username field\n                    />\n                    <TextField\n                        value={password}\n                        type='password'\n                        margin=\"normal\"\n                        label=\"Password\"\n                        fullWidth\n                        variant=\"outlined\"\n                        onChange={event => setPassword(event.target.value)}\n                    />\n                    <TextField\n                        value={password_confirmation}\n                        type='password'\n                        margin=\"normal\"\n                        label=\"Confirm Password\"\n                        fullWidth\n                        variant=\"outlined\"\n                        onChange={event => setPassword_confirmation(event.target.value)}\n                    />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleCloseCreateAccount}>Close</Button>\n                <Button onClick={handleSubmitCreateAccount}>Create Account</Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default CreateAccount;","import { Button, TextField, Dialog, DialogActions, DialogContent, \n    DialogTitle } from '@material-ui/core';\nimport AlertUser from '../AlertUser';\nimport { AlertColor } from '@mui/material/Alert';\nimport CurrentUserState from '../../types/CurrentUserState';\n\nimport React, { useState } from 'react';\n\ntype Props = {\n    openChangePassword: boolean;\n    handleCloseChangePassword: () => void;\n    currentUserState: CurrentUserState;\n    API: string;\n}\n\nconst ChangePassword: React.FC<Props> = ({API, openChangePassword, handleCloseChangePassword, currentUserState}: Props) => {\n    const [newPassword, setNewPassword] = useState<string>(\"\");\n    const [newPasswordConfirmation, setNewPasswordConfirmation] = useState<string>(\"\");\n    const [severity, setSeverity] = useState<AlertColor | undefined>(undefined);\n    const [message, setMessage] = useState<string[]>([]);\n\n    const resetChangePassword = () => {\n        setNewPassword(\"\");\n        setNewPasswordConfirmation(\"\");\n    }\n\n    // on clicking \"change password\" button, patch changes to backend\n    const handleSubmitChangePassword = () => {\n        const password = newPassword;\n        const password_confirmation = newPasswordConfirmation;\n        let new_message: string[] = [];\n            fetch(API + \"/users/\" + currentUserState.currentUser.id, {\n                method: 'PATCH',\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                  },\n                body: JSON.stringify({\n                    password,\n                    password_confirmation,\n                }),\n            })\n                .then((response) => {\n                    if (response.ok) {\n                        setSeverity('success');\n                        new_message.push(\"Password Changed!\")\n                        setMessage(new_message);\n                        // empty fieds (prevent user from repeatedly chaning password again)\n                        resetChangePassword();\n                        // refresh page\n                        setTimeout(() => window.location.reload(), 1000);\n                    }\n                    return response.json();\n                })\n                .then((data) => {\n                    if (data.error) {\n                        setSeverity('error');\n                        data.error.map((error: string) =>\n                            new_message.push(error));\n                        setMessage(new_message);\n                    }\n                })\n                .catch((error) => console.log(error.message));\n        // }\n    }\n\n    // dialog contains password and password confirmation fields, and \"close\" and \"change password\" buttons\n    return (\n        <Dialog open={openChangePassword} onClose={handleCloseChangePassword} fullWidth>\n            <DialogTitle>Change Password</DialogTitle>\n            <DialogContent>\n                display success/error messages\n                <AlertUser severity={severity} message={message}/>\n                    <TextField\n                        value={newPassword}\n                        type='password'\n                        margin=\"normal\"\n                        label=\"Password\"\n                        fullWidth\n                        variant=\"outlined\"\n                        onChange={event => setNewPassword(event.target.value)}\n                    />\n                    <TextField\n                        value={newPasswordConfirmation}\n                        type='password'\n                        margin=\"normal\"\n                        label=\"Confirm Password\"\n                        fullWidth\n                        variant=\"outlined\"\n                        onChange={event => setNewPasswordConfirmation(event.target.value)}\n                    />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleCloseChangePassword}>Close</Button>\n                <Button onClick={handleSubmitChangePassword}>Change Password</Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default ChangePassword;","import * as React from 'react';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport LogIn from './LogIn';\nimport CreateAccount from './CreateAccount';\nimport CurrentUserState from '../../types/CurrentUserState';\nimport GlobalMessageState from '../../types/GlobalMessageState';\nimport ChangePassword from './ChangePassword';\n\n// Sourced Menu component from https://mui.com/material-ui/react-menu/#main-content and modified for use\n\ntype Props = {\n    anchorElAccountSettings: HTMLElement | null,\n    openAccountSettings: boolean,\n    handleCloseAccountSettings: () => void,\n    currentUserState: CurrentUserState;\n    globalMessageState: GlobalMessageState;\n    API: string;\n}\n\n// account settings button with dropdown menu containing more settings\nconst AccountSettings: React.FC<Props> = ({API, anchorElAccountSettings, openAccountSettings, handleCloseAccountSettings, currentUserState, globalMessageState}: Props) => {\n  \n  // toggle close/open login dialog page\n  const [openLogIn, setOpenLogIn] = React.useState<boolean>(false);\n    const handleClickOpenLogIn = () => {\n      setOpenLogIn(true);\n    };\n    const handleCloseLogIn = () => {\n      setOpenLogIn(false);\n    };\n\n    // toggle close/open create account dialog page\n    const [openCreateAccount, setOpenCreateAccount] = React.useState<boolean>(false);\n    const handleClickOpenCreateAccount = () => {\n      setOpenCreateAccount(true);\n    };\n    const handleCloseCreateAccount = () => {\n      setOpenCreateAccount(false);\n    };\n\n    // toggle close/open change password dialog page\n    const [openChangePassword, setOpenChangePassword] = React.useState<boolean>(false);\n    const handleClickOpenChangePassword = () => {\n      setOpenChangePassword(true);\n    };\n    const handleCloseChangePassword = () => {\n      setOpenChangePassword(false);\n    };\n\n    // when logout, forget user cache: user info and jwt token\n    const handleLogOut = () => {\n      currentUserState.setCurrentUser(currentUserState.emptyCurrentUser);\n      localStorage.removeItem(\"token\");\n      window.location.reload(); // refresh page to update without any user logged in\n    }\n\n    return (\n        <div>\n          {/* if user logged in, display change password and logout in dropdown menu */}\n          { currentUserState.isLoggedIn ? \n            <Menu\n                id=\"account-settings\"\n                anchorEl={anchorElAccountSettings}\n                open={openAccountSettings}\n                onClose={handleCloseAccountSettings}\n                MenuListProps={{\n                'aria-labelledby': 'basic-button',\n                }}\n            >            \n              <MenuItem onClick={handleClickOpenChangePassword}>Change Password</MenuItem>\n              <ChangePassword API={API} openChangePassword={openChangePassword} handleCloseChangePassword={handleCloseChangePassword} currentUserState={currentUserState}/>\n              <MenuItem onClick={handleLogOut}>Log Out</MenuItem>\n            </Menu> :\n            // else if user not logged in, display create account and login in dropdown menu\n            <Menu\n              id=\"account-settings\"\n              anchorEl={anchorElAccountSettings}\n              open={openAccountSettings}\n              onClose={handleCloseAccountSettings}\n              MenuListProps={{\n              'aria-labelledby': 'basic-button',\n              }}\n            >            \n              <MenuItem onClick={handleClickOpenLogIn}>Log In</MenuItem>\n              <LogIn API={API} openLogIn={openLogIn} handleCloseLogIn={handleCloseLogIn} currentUserState={currentUserState} globalMessageState={globalMessageState}/>\n              <MenuItem onClick={handleClickOpenCreateAccount}>Create Account</MenuItem>\n              <CreateAccount API={API} openCreateAccount={openCreateAccount} handleCloseCreateAccount={handleCloseCreateAccount}/>\n            </Menu>\n              }\n        </div>\n    );\n};\n\nexport default AccountSettings;","import { Typography, Box, AppBar, Container, Toolbar, Tooltip,\n  IconButton, Avatar, CardActionArea } from '@material-ui/core';\nimport ForumIcon from '@mui/icons-material/Forum';\nimport AccountSettings from './account/AccountSettings';\nimport CurrentUserState from '../types/CurrentUserState';\nimport GlobalMessageState from '../types/GlobalMessageState';\nimport Stack from '@mui/material/Stack';\n\nimport React from 'react';\n\ntype Props = {\n  currentUserState: CurrentUserState;\n  globalMessageState: GlobalMessageState;\n  API: string;\n}\n\n// Navigation bar menu: contains home button, my threads button and account settings dropdown menu (accessible on all pages)\nconst NavBar: React.FC<Props> = ({API, currentUserState, globalMessageState}: Props) => {\n\n  // Anchor settings menu (dropdown menu: contains log in, log out and creaete account buttons)\n  const [anchorElAccountSettings, setAnchorElAccountSettings] = React.useState<null | HTMLElement>(null);\n  const openAccountSettings = Boolean(anchorElAccountSettings);\n  const handleClickAccountSettings = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorElAccountSettings(event.currentTarget);\n  };\n  const handleCloseAccountSettings = () => {\n    setAnchorElAccountSettings(null);\n  };\n\n  // Other buttons on navbar that redirect to other pages (other than \"home\" and \"account settings\" buttons)\n  type page = {\n    pageName: string;\n    href: string;\n  }\n  const myThreads: page = {\n    pageName: \"MyThreads\",\n    href: \"/mythreads\",\n  }\n  const pages:page[] = [myThreads];\n\n  return (\n    <Box marginBottom={'70px'}>\n      <AppBar position='fixed' style={{zIndex: '1200'}}>\n        <Container maxWidth='xl'>\n          <Toolbar disableGutters>\n            <Box flexGrow={1} display='flex' alignItems={'center'}>\n              {/* Logo and website name */}\n              <ForumIcon sx={{mr: 1}} />\n              <Typography variant='h6' component='a' href='/'\n                style={{\n                  color: 'inherit',\n                  textDecoration: 'none',\n                  marginRight: '40px',\n                }}\n              >\n                ChitChat\n              </Typography>\n              <Stack direction='row'>\n                {/* Other buttons redirecting to other pages */}\n                {currentUserState.isLoggedIn && pages.map(page => (\n                  <CardActionArea key={page.pageName} style={{padding: '10px', borderRadius: '10px'}} href={page.href}>\n                    <Typography>{page.pageName}</Typography>\n                  </CardActionArea>\n                ))}\n              </Stack>\n            </Box>\n            {/* Account settings button with dropdown menu containing login, logout, change password and create account */}\n            <Tooltip title=\"Account Settings\">\n              <IconButton\n                id=\"basic-button\"\n                aria-controls={openAccountSettings ? 'account-settings' : undefined}\n                aria-haspopup=\"true\"\n                aria-expanded={openAccountSettings ? 'true' : undefined}\n                onClick={handleClickAccountSettings}\n              >\n                <Avatar/>\n              </IconButton>\n            </Tooltip>\n            <AccountSettings API={API} anchorElAccountSettings={anchorElAccountSettings} openAccountSettings={openAccountSettings} \n              handleCloseAccountSettings={handleCloseAccountSettings} currentUserState={currentUserState} globalMessageState={globalMessageState}/>\n          </Toolbar>\n        </Container>\n      </AppBar>\n    </Box>\n  );\n};\n\nexport default NavBar;","import React from 'react';\nimport Snackbar from '@mui/material/Snackbar';\nimport Alert, { AlertColor } from '@mui/material/Alert';\nimport Stack from '@mui/material/Stack';\n\ntype Props = {\n    globalMessage: string[];\n    severityGlobalMessage: AlertColor | undefined;\n    handleCloseGlobalMessage: () => void;\n    openGlobalMessage: boolean;\n}\n\n// display global message to whatever page cureent user is viewing from (message on bottom left corner and lasts 6 seconds)\nconst GlobalMessage: React.FC<Props> = ({globalMessage, severityGlobalMessage, handleCloseGlobalMessage, openGlobalMessage}: Props) => {\n\n    return (\n        <Stack spacing={2}>\n            { globalMessage.map(message =>\n                <Snackbar open={openGlobalMessage} autoHideDuration={6000} onClose={handleCloseGlobalMessage}>\n                    <Alert onClose={handleCloseGlobalMessage} severity={severityGlobalMessage} sx={{ width: '100%' }}>\n                        {message}\n                    </Alert>\n                </Snackbar>\n            )}\n        </Stack>\n    );\n}\n\nexport default GlobalMessage;","import ThreadList from '../components/thread/ThreadList';\nimport { Thread } from '../types/Thread';\nimport CurrentUserState from '../types/CurrentUserState';\nimport GlobalMessageState from '../types/GlobalMessageState';\nimport { Typography } from '@material-ui/core';\n\nimport React, {useState, useEffect} from 'react';\n\ntype Props = {\n    currentUserState: CurrentUserState;\n    API: string;\n    globalMessageState: GlobalMessageState;\n}\n\n// MyThreads page: display threads created by current user (must be logged in)\nconst MyThreads: React.FC<Props> = ( {currentUserState, API, globalMessageState}: Props) => {\n    const [error, setError] = useState<any>(null);\n    const [isLoaded, setIsLoaded] = useState<boolean>(false);\n    const [threads, setThreads] = useState<Thread[]>([]);\n\n    // If current user is logged in, fetch user's created threads\n    useEffect(() => {\n        if (currentUserState.isLoggedIn) {\n            fetch(API + \"/mythreads/\" + currentUserState.currentUser.id, {\n                method: 'GET',\n                mode: 'cors'\n            })\n                .then(res => res.json())\n                .then(\n                    (result) => {\n                        setIsLoaded(true);\n                        setThreads(result);\n                    },\n                    (error) => {\n                        setIsLoaded(true);\n                        setError(error);\n                    }\n                )\n        }\n    }, [currentUserState.isLoggedIn, currentUserState.currentUser.id, API]);\n\n    return (\n        <div style={{ width: '50vw', margin: 'auto', textAlign: 'center', paddingTop: '30px'}}>\n            {/* List user's threads using ThreadList element (abtraction) */}\n            { threads.length === 0 ?\n                <Typography variant=\"h6\">Opps! Looking empty... Go ahead and create your first thread!</Typography> :\n                <ThreadList globalMessageState={globalMessageState} API={API} threads={threads} error={error} isLoaded={isLoaded} currentUserState={currentUserState}/>\n            }\n        </div>\n    );\n};\n\nexport default MyThreads;","import Home from './pages/Home';\nimport ThreadPage from './pages/ThreadPage';\nimport React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport NavBar from './components/NavBar';\nimport CurrentUser from './types/CurrentUser';\nimport GlobalMessage from './components/GlobalMessage';\nimport { AlertColor } from '@mui/material/Alert';\nimport MyThreads from './pages/MyThreads';\n\nconst API: string = \"https://chitchat-4uee.onrender.com/\";\n\nconst theme = createTheme({\n    palette: {\n      primary: {\n        light: '#757ce8',\n        main: '#3f50b5',\n        dark: '#002884',\n        contrastText: '#fff',\n      },\n      secondary: {\n        light: '#ff7961',\n        main: '#f44336',\n        dark: '#ba000d',\n        contrastText: '#000',\n      },\n    },\n  });\n\nconst App: React.FC = () => {\n\n  // Global Message: to display messages at user's current page location\n  const [globalMessage, setGlobalMessage] = useState<string[]>([]);\n  const [severityGlobalMessage, setSeverityGlobalMessage] = useState<AlertColor | undefined>(undefined);\n  const [openGlobalMessage, setOpenGlobalMessage] = useState<boolean>(true);\n  const handleCloseGlobalMessage = () => {\n      setOpenGlobalMessage(false);\n      setSeverityGlobalMessage(undefined);\n      setGlobalMessage([]);\n  }\n  const handleOpenGlobalMessage = () => {\n    setOpenGlobalMessage(true);\n  }\n  const globalMessageState = {\n    setGlobalMessage: setGlobalMessage,\n    setSeverityGlobalMessage: setSeverityGlobalMessage,\n    handleOpenGlobalMessage: handleOpenGlobalMessage,\n  }\n\n  // Current User: cache user login information\n  const emptyCurrentUser = {\n    id: 0,\n    username: \"\",\n    password_digest: \"\",\n    created_at: \"\",\n    updated_at: \"\",\n  }\n  const [currentUser, setCurrentUser] = useState<CurrentUser>(emptyCurrentUser);\n  const currentUserState = {\n    currentUser: currentUser,\n    setCurrentUser: setCurrentUser,\n    emptyCurrentUser: emptyCurrentUser,\n    isLoggedIn: currentUser.id !== 0,\n  }\n\n  // Checks with backend that user is logged in whenver page is loaded\n  useEffect(() => {\n    let new_message: string[] = [];\n    const token = localStorage.getItem(\"token\")\n    if (token) {\n      fetch(API + \"/login\", {\n        method: \"GET\",\n        headers: {\n          Authorization: `${token}`\n        }\n      })\n      .then(response => response.json())\n      .then(data => {\n        if (data.error) {\n          setSeverityGlobalMessage('error');\n          data.error.map((error: string) =>\n              new_message.push(error));\n          setGlobalMessage(new_message);\n        } else {\n          setCurrentUser(data);\n        }\n      })\n    }\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme}>\n          {/* Navigation bar menu: contains home button, my threads button and account settings dropdown menu (accessible on all pages)*/}\n          <NavBar API={API} currentUserState={currentUserState} globalMessageState={globalMessageState}/>\n          {/* Global Message element: display messages at user's current page location */}\n          < GlobalMessage globalMessage={globalMessage} severityGlobalMessage={severityGlobalMessage} openGlobalMessage={openGlobalMessage} handleCloseGlobalMessage={handleCloseGlobalMessage}/>\n          <BrowserRouter>\n            <Routes>\n                {/* View individual thread and associated comments */}\n                <Route path=\"/thread/:threadID\" element={<ThreadPage globalMessageState={globalMessageState} currentUserState={currentUserState} API={API}/>} />\n                {/* Home root page */}\n                <Route path=\"/\" element={<Home globalMessageState={globalMessageState} currentUserState={currentUserState} API={API}/>} />\n                {/* View all threads created by current user (must be logged in) */}\n                <Route path=\"/mythreads\" element={<MyThreads globalMessageState={globalMessageState} currentUserState={currentUserState} API={API}/>} />\n            </Routes>\n         </BrowserRouter>\n      </ThemeProvider>\n    </div>\n  );\n};\n\nexport default App;\n","import App from './App';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"]}}